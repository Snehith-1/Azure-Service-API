import { Component } from '@angular/core';
import { FormBuilder, FormControl, FormGroup } from '@angular/forms';
import { SocketService } from 'src/app/ems.utilities/services/socket.service';
import { ToastrService } from 'ngx-toastr';

interface RaisePR
{
  purchaserequisition_gid: string;
  purchaserequisition_date: string;
  branch_name: string;
  department_name: string;
  costcenter_name: string;
  available_amount: string;
  user_firstname: string;
  product_gid: string;
  product_name: string;
  productgroup_name: string;
  product_code: string;
  productuom_name: string;
  qty_requested: string;
}

@Component({
  selector: 'app-pmr-trn-raise-requisition',
  templateUrl: './pmr-trn-raise-requisition.component.html',
  styleUrls: ['./pmr-trn-raise-requisition.component.scss']
})
export class PmrTrnRaiseRequisitionComponent {

  RaiseRequestForm!: FormGroup; 
  productform!: FormGroup;
  raisepr!: RaisePR;
  costcenter_list: any [] = [];
  branch_list: any [] = [];
  product_list: any [] = [];
  products_list: any [] = [];
  mdlBranchName: any;
  mdlCost: any;
  mdlproduct: any;
  constructor(private formBuilder: FormBuilder, private ToastrService: ToastrService, public service: SocketService) {
    this.raisepr = {} as RaisePR;
  }
  ngOnInit(): void 
  {
     this.RaiseRequestForm = new FormGroup({
      purchaserequisition_gid: new FormControl(''),
      purchaserequisition_date: new FormControl(''),
      branch_name: new FormControl(''),
      department_name: new FormControl(''),
      costcenter_name: new FormControl(''),
      available_amount: new FormControl(''),
      user_firstname: new FormControl(''),
    });

    this.productform = new FormGroup({
      product_gid: new FormControl(''),
      product_name: new FormControl(''),
      productgroup_name: new FormControl(''),
      product_code: new FormControl(''),
      productuom_name: new FormControl(''),
      qty_requested: new FormControl(''),
    })
  }
  get purchaserequisition_date() {
    return this.RaiseRequestForm.get('purchaserequisition_date')!;
  }
  get branch_name() {
    return this.RaiseRequestForm.get('branch_name')!;
  }
  get costcenter_name() {
    return this.RaiseRequestForm.get('costcenter_name')!;
  }
  get product_name() {
    return this.RaiseRequestForm.get('product_name')!;
  }

  GetOnChangeProductsName()
  {

  }
  productSubmit()
  {

  }
  
  openModaledit()
  {

  }

  openModaldelete()
  {

  }
validate()
{

}

  onclose()
  {

  }
}
