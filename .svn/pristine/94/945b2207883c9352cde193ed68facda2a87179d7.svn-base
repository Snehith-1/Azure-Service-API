<div class="m-12 " *ngFor="let m of getuserdtl1">
<div class="align">
    <div class="col-12 col-lg-4 col-md-6 col-sm-12">
      <div class="d-flex align-items-center">
        <b><span class="font-bold" style="margin-left: 10px;">Employee Code</span></b>
       <b> <p class="mt-3" style="color: black;margin-left: 15px;">{{m.user_code}}</p></b>
      </div>
    </div>
    <div class="col-12 col-lg-4 col-md-6 col-sm-12">
      <div class="d-flex align-items-center">
        <b><span class="font-bold" style="margin-left: 10px;">Employee name</span></b>
        <b> <p class="mt-3"  style="color: black;margin-left: 15px;">{{m.user_name}}</p></b>
      </div>
    </div>
  </div>
</div>

<br>


  <!-- summary of the asset cusdotian -->

  <form [formGroup]="reactiveForm" #form="ngForm">

<div class="card shadow-sm">
    <div class="card-header">
        <h3 class="card-title">Employee Asset Custodian</h3> 
    </div>
    <br>
    <div class="table-responsive">
        <div class="card card-body m-3 shadow-lg p-3 mb-5 bg-white rounded">
            <table id="custodianadd_list" class="table table-striped table-row-bordered gy-5 gs-7 ">
                <thead>
                    <tr class="fw-bold fs-5 text-nowrap bg-lightblue text-blue">
                        <th>S.No</th>
                        <th>Asset Ref No</th>
                        <th>Asset Name</th>
                        <th>Asset ID</th>
                        <th>Asset Handover Date</th>
                        <th>Asset Returned Date</th>
                        <th>Remarks</th>
                        <th class="text-center">Action</th>
                    </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let data of custodianadd_list; let i=index;">
                    <td>{{i+1}}</td>
                    <td>{{data.assetref_no}}</td>
                    <td>{{data.asset_name}}</td>
                    <td>
                      <input type="text" [(ngModel)]="data.asset_id" class="form-control form-control-lg form-control-solid custom-input mb-3 mb-lg-0 bg-white custom-input borderc-secondary"
                             placeholder="Asset id" formControlName="asset_id_{{i}}" />
                    </td>
                    <td>
                      <input type="date" [(ngModel)]="data.custodian_date" class="form-control form-control-lg form-control-solid custom-input mb-3 mb-lg-0 bg-white custom-input borderc-secondary"
                             placeholder="custodian date" formControlName="custodian_date_{{i}}" />
                    </td>
                    <td>
                      <input type="date" [(ngModel)]="data.custodian_enddate" class="form-control form-control-lg form-control-solid custom-input mb-3 mb-lg-0 bg-white custom-input borderc-secondary"
                             placeholder="End Date" formControlName="custodian_enddate_{{i}}" />
                    </td>
                    <td>
                      <input type="text" [(ngModel)]="data.remarks" class="form-control form-control-lg form-control-solid custom-input mb-3 mb-lg-0 bg-white custom-input borderc-secondary"
                             placeholder="Remarks" formControlName="remarks_{{i}}" />
                    </td>
                    <td class="text-center text-nowrap">
                      <button title="Upload Document" type="button" class="btn btn-icon btn-sm bg-primary me-2"
                      data-bs-toggle="modal"
                      data-bs-target="#myModaladd" (click)="openModaldtl(data)">
                        <i class="fa fa-upload" aria-hidden="true"></i>
                      </button>
                    </td>
                  </tr>
                </tbody>
                 
            </table>
        </div> 
    </div> 
</div>

<div class="text-center my-4">
  <button class="btn-sm text-white me-2" [disabled]="reactiveForm.invalid" [ngClass]="{
      'primary-button': !reactiveForm.invalid,
      'secondary-button': reactiveForm.invalid
    }" (click)="submit()">
    <i class="fas fa-check text-white fs-5"></i> &nbsp; submit
  </button>

  <button class="btn-primary btn-sm text-white me-4" routerLink="/hrm/HrmTrnAssetCustodian">
    <i class="fas fa-arrow-left"></i> &nbsp; Back
  </button>
</div>
</form>




<form [formGroup]="reactiveForm" #form="ngForm">
  <div class="modal" id="myModaladd" data-bs-backdrop="static" data-bs-keyboard="false">
    <div class="modal-dialog">
      <div class="modal-content">
         <div class="card-header p-1 pb-2 pt-1 rounded-top bg-primary">
          <h2 style="margin-top:10px;color:white;font-weight: bold;">&nbsp;&nbsp;<i class></i> Upload Document
            Details</h2>
            </div>
            <div class="modal-body">
              <div class="col-12 col-lg-10 col-md-6 col-sm-12">
                <span class="font-bold">Upload Document</span>
                <div class="col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2">
                    <input (change)="onChange2($event)" accept=".pdf, .xlsx, .xls, .jpg, .jpeg, .png" type="file"
                           #fileInput class="form-control form-control-lg form-control-solid bg-white mb-3 mb-lg-0 borderc-secondary custom-input"
                           name="fName" formControlName="asset_document" />         
                </div>
            </div>      
        </div>

        <table style="margin-left: 80px;">
          <tbody>
          <tr *ngFor="let data of Document_list; let i=index;" >
            <td>{{i+1}}</td>
            <td style="color: black;"><b>{{data.document_path.split('/').pop()}}</b></td>
            <td class="text-center text-nowrap">
              <button title="download Document" type="button" class="btn btn-icon btn-sm bg-primary me-2"
              (click)="downloadDocument(data.document_gid)">
                <i class="fa fa-download" aria-hidden="true"></i>
              </button>
            </td>
          </tbody>

        </table>
        <div class="text-center my-4">
          <button class="btn-success btn-sm text-white me-4" (click)="onupload()" [disabled]="reactiveForm.invalid"
            [ngClass]="{
                    'primary-button': !reactiveForm.invalid,
                    'secondary-button': reactiveForm.invalid
                  }" data-bs-dismiss="modal">
            <i class="fas fa-check text-white fs-5 "></i> &nbsp;Submit
          </button> &nbsp;&nbsp;
          <button class="btn-danger btn-sm text-white me-4" (click)="onclose()" data-bs-dismiss="modal">
            <i class="fas fa-close text-white"></i> &nbsp;Close
          </button>
        </div> 
       
      </div>
      
    </div>
    
  </div>
 
</form>