<div class="m-5">
  <form [formGroup]="reactiveForm" #form="ngForm">
    <div class="card shadow-lg rounded-top">
      <div class="card m-4">
        <div class="m-4 mt-4 border card">
          <div class="card-header bg-lightblue card-height55">
            <div class="card-title m-0">
              <h5 class="fw-bolder text-blue">Add Customer</h5>
            </div>
          </div>
            <div class="d-flex flex-row m-6 flex-wrap">
  
              <div class="col-12 col-lg-4 col-md-6 col-sm-12">
  
                <span class="font-bold">Customer Code</span>
                       <div class="col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2">
                         <input type="text" formControlName="customer_id" class="
                             form-control form-control-lg form-control-solid
                             custom-input
                             mb-3 mb-lg-0
                             bg-white
                             custom-input borderc-secondary
                            "  placeholder="New Ref. No" name="customer_id" readonly />
                   
               </div>
              </div>
  
                 <div class="col-12 col-lg-4 col-md-6 col-sm-12">
                       <span class="font-bold">Customer <span class="ms-1 text-red">*</span></span>
                       <div class="col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2">
                         <input type="text" formControlName="customer_name" class="
                             form-control form-control-lg form-control-solid
                             custom-input
                             mb-3 mb-lg-0
                             bg-white
                             custom-input
                            " [ngStyle]="{
                            'border-color':
                            customer_name.invalid && customer_name.touched
                        ? 'red'
                        : 'rgb(209, 209, 209)'
                        }" placeholder="Customer " name="customer_name" required />
                   <div *ngIf=" customer_name.invalid &&
                        (customer_name.dirty || customer_name.touched)
                 " class="text-red">
                    <div *ngIf="customer_name.errors?.['required']">
                       Company  is required.
                    </div>
                  </div>
               </div>
            </div>
  
  

            <div class="col-12 col-lg-4 col-md-6 col-sm-12">
              <span class="font-bold">Contact Person <span class="ms-1 text-red">*</span></span>
              <div class="col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2">
                <input type="text" formControlName="customercontact_name" class="
                    form-control form-control-lg form-control-solid
                    custom-input
                    mb-3 mb-lg-0
                    bg-white
                    custom-input
                   " [ngStyle]="{
                   'border-color':
                   customercontact_name.invalid && customercontact_name.touched
                     ? 'red'
                     : 'rgb(209, 209, 209)'
                      }" placeholder="Contact Person " name="customercontact_name" required />
                       <div *ngIf=" customercontact_name.invalid &&
                       (customercontact_name.dirty || customercontact_name.touched)
                          " class="text-red">
                        <div *ngIf="customercontact_name.errors?.['required']">
                        Contact Person  is required.
                      </div>
                   </div>
                </div>
             </div> 
                  
        </div>
  
        <div class="d-flex flex-row m-6 flex-wrap">
          <div class="col-12 col-lg-4 col-md-6 col-sm-12">
            <span class="font-bold">Customer Type<span class="ms-1 text-red">*</span></span>
            <ng-select  formControlName="customer_type" 
                  [class.is-invalid]="
                  customer_type.invalid && (customer_type.dirty || customer_type.touched)"
                  [ngClass]="{'invalid-border': customer_type.invalid && customer_type.touched}"
                  required class="custom col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2"
                  placeholder="Select Customer Type" [(ngModel)]="mdlType">
                  <ng-option value="Distributor">Distributor</ng-option>
                  <ng-option value="Corporate">Corporate</ng-option>
                  <ng-option value="Retailer">Retailer</ng-option>
                  </ng-select>
              <div *ngIf="
              customer_type.invalid && (customer_type.dirty || customer_type.touched)
                " class="invalid-feedback">
                  <div *ngIf="customer_type.errors?.['required']">
                     Customer Type is required.
                  </div>
              </div>
          </div>
              <!-- <div class="col-12 col-lg-4 col-md-6 col-sm-12">
                <span class="font-bold">Mobile Number</span>
                <div class="col-lg-12 col-12 col-md-11 col-sm-11 fv-row mt-2">
                  <ngx-intl-tel-input [cssClass]="'form-control'"
                  [preferredCountries]="[CountryISO.UnitedKingdom]" [enableAutoCountrySelect]="true"
                  [enablePlaceholder]="true" [searchCountryFlag]="true"
                  [searchCountryField]="[SearchCountryField.Iso2, SearchCountryField.Name]"
                  [selectedCountryISO]="CountryISO.UnitedKingdom" [phoneValidation]="true"
                  name="mobile" [maxLength]="15" formControlName="mobiles">
              </ngx-intl-tel-input>
                  
                </div>
              </div> -->
              <div class="col-12 col-lg-4 col-md-6 col-sm-12">
                <span class="font-bold">Mobile<span class="ms-1 text-red">*</span></span>
                <div class="col-lg-12 col-12 col-md-12 col-sm-12 fv-row mt-2">
                  <ngx-intl-tel-input [cssClass]="'form-control custom-width'"
                  [preferredCountries]="[CountryISO.UnitedKingdom]" [enableAutoCountrySelect]="true"
                  [enablePlaceholder]="true" [searchCountryFlag]="true"
                  [searchCountryField]="[SearchCountryField.Iso2, SearchCountryField.Name]"
                  [selectedCountryISO]="CountryISO.UnitedKingdom" [phoneValidation]="true"
                   name="mobiles" [maxLength]="15" formControlName="mobiles"></ngx-intl-tel-input>
                 



                </div>
              </div>

              <div class="col-12 col-lg-4 col-md-6 col-sm-12">
                <span class="font-bold">Address I<span class="ms-1 text-red">*</span></span>
                <div class="col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2">
                  <input type="text" formControlName="address1" class="
                      form-control form-control-lg form-control-solid
                      custom-input
                      mb-3 mb-lg-0
                      bg-white
                      custom-input
                    " [ngStyle]="{
                      'border-color':
                      address1.invalid && address1.touched
                          ? 'red'
                          : 'rgb(209, 209, 209)'
                    }" placeholder="Address I" name="address" required />
                  <div *ngIf="address1.invalid && (address1.dirty || address1.touched)" class="text-red">
                    <div *ngIf="address1.errors?.['required']">
                      Address is required.
                    </div>
  
                  </div>
                </div>
              </div>
  
              
            </div> 
            <div class="d-flex flex-row m-6 flex-wrap">
              <div class="col-12 col-lg-4 col-md-6 col-sm-12" >
                <span class="font-bold">Address 2</span>
                <div class="col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2">
  
                                      <input formControlName="address2" type="text" class="
                                      form-control form-control-lg form-control-solid
                                      borderc-secondary
                                      bg-white
                                      custom-input
                                      mb-3 mb-lg-0
                                  " placeholder="Address II" name="address2" />
                </div>
              </div>
              <div class="col-12 col-lg-4 col-md-6 col-sm-12">
                <span class="font-bold">City</span>
                <div class="col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2">
                  <input type="text" formControlName="customer_city" class="
                      form-control form-control-lg form-control-solid
                      custom-input
                      mb-3 mb-lg-0
                      bg-white
                      custom-input borderc-secondary
                    "  placeholder="Customer city"  required />
                
                </div>
              </div>
    
              <div class="col-12 col-lg-4 col-md-6 col-sm-12" >
                <span class="font-bold">Postal code</span>
                <div class="col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2">
    
                    <input formControlName="postal_code" type="numeric" class="
                    form-control form-control-lg form-control-solid
                    borderc-secondary
                    bg-white
                    custom-input
                    mb-3 mb-lg-0
                  " 
                  placeholder="Postal code" pattern="[0-9]*" minlength="0" maxlength="6" name="postal_code" required/>
                </div>
                
             
              </div>
              
            </div>
            <div class="d-flex flex-row m-6 flex-wrap">
              <div class="col-12 col-lg-4 col-md-6 col-sm-12">
                <span class="font-bold">Country<span class="ms-1 text-red">*</span></span>
                <ng-select formControlName="countryname" [class.is-invalid]="
                countryname.invalid && (countryname.dirty || countryname.touched)
                  "  [ngClass]="{'invalid-border': countryname.invalid && countryname.touched}" 
                  [items]="country_list"  class="custom col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2"
                  bindLabel="country_name" bindValue="country_gid" placeholder="Select an Country"></ng-select>
                <div *ngIf="
                countryname.invalid && (countryname.dirty || countryname.touched)
                  " class="invalid-feedback">
                  <div *ngIf="countryname.errors?.['required']">
                    country is required.
                  </div>
                </div>
              </div>
              <div class="col-12 col-lg-4 col-md-6 col-sm-12">
                <span class="font-bold">Currency<span class="ms-1 text-red">*</span></span>
                <ng-select formControlName="currencyname" [class.is-invalid]="
                currencyname.invalid && (currencyname.dirty || currencyname.touched)
                  "  [ngClass]="{'invalid-border': currencyname.invalid && currencyname.touched}" bindLabel="currency_code" bindValue="currencyexchange_gid"[items]="currency_list"  class="custom col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2"
                  bindLabel="currency_code" bindValue="currencyexchange_gid" placeholder="Select an currency"></ng-select>
                <div *ngIf="
                currencyname.invalid && (currencyname.dirty || currencyname.touched)
                  " class="invalid-feedback">
                  <div *ngIf="currencyname.errors?.['required']">
                    currency is required.
                  </div>
                </div>
              </div>
    
             
              <div class="col-12 col-lg-4 col-md-6 col-sm-12" >
                <span class="font-bold">Email<span class="ms-1 text-red">*</span></span>
                <div class="col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2">
    
                    <input formControlName="email"  type="text" class="
                    form-control form-control-lg form-control-solid
                    borderc-secondary
                    bg-white
                    custom-input
                    mb-3 mb-lg-0
                  "   [ngStyle]="{
                    'border-color':
                    email.invalid && email.touched
                        ? 'red'
                        : 'rgb(209, 209, 209)'
                  }" 
                  placeholder="Email" pattern="^([a-z0-9-]+|[a-z0-9-]+([.][a-z0-9-]+)*)@([a-z0-9-]+\.[a-z]{2,20}(\.[a-z]{2})?|\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\]|localhost)$" name="email_address" required />
                </div>
                <div *ngIf="
                email.invalid &&
                    (email.dirty || email.touched)
                  " class="text-red">
                  <div *ngIf="email.errors?.['required']">
                    Email is required.
                  </div>
              </div>
              <div *ngIf="
              email.invalid &&
                  (email.dirty || email.touched)
                " class="text-red">
                <div *ngIf="email.errors?.['pattern']">
                  Invalid Email!!.
                </div>
            </div>
          </div>
            
          </div>
           
            <div class="d-flex flex-row m-6 flex-wrap">
              <div class="col-12 col-lg-4 col-md-6 col-sm-12">
                <span class="font-bold">State</span>
                <div class="col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2">
                  <input type="text" formControlName="customer_state" class="
                      form-control form-control-lg form-control-solid
                      custom-input
                      mb-3 mb-lg-0
                      bg-white
                      custom-input borderc-secondary
                    "  placeholder="State" name="customer_state" required />
                 
                </div>
              </div>
              <!-- <div class="col-12 col-lg-4 col-md-6 col-sm-12">
                <span class="font-bold">GST Number</span>
                <div class="col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2">
                  <input type="text" formControlName="gst_number" class="
                      form-control form-control-lg form-control-solid
                      custom-input
                      mb-3 mb-lg-0
                      bg-white
                      custom-input borderc-secondary" placeholder="GST Number" name="gst_number" required />
                </div>
              </div>  -->
              
              <div class="col-12 col-lg-4 col-md-6 col-sm-12">
                <span class="font-bold">Designation</span>
                <div class="col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2">
                  <input type="text" formControlName="designation" class="
                      form-control form-control-lg form-control-solid
                      custom-input
                      mb-3 mb-lg-0
                      bg-white
                      custom-input borderc-secondary " placeholder="Designation" name="designation" required />
  
                </div>
              </div>
              
              <div class="row col-12 col-lg-4 col-md-6 col-sm-12">
                <span class="font-bold">Fax No</span>
                <div class="col-lg-3">
                  <input type="text" formControlName="customer_state" class="
                      form-control form-control-lg form-control-solid
                      custom-input
                      mb-3 mb-lg-0
                      bg-white
                      custom-input borderc-secondary
                    "  placeholder="Country Code" name="customer_state" required />
                 
                </div>
                <div class="col-lg-4">
                  <input type="text" formControlName="customer_state" class="
                      form-control form-control-lg form-control-solid
                      custom-input
                      mb-3 mb-lg-0
                      bg-white
                      custom-input borderc-secondary
                    "  placeholder="Area Code" name="customer_state" required />
                 
                </div>
                <div class="col-lg-5">
                  <input type="text" formControlName="customer_state" class="
                      form-control form-control-lg form-control-solid
                      custom-input
                      mb-3 mb-lg-0
                      bg-white
                      custom-input borderc-secondary
                    "  placeholder="Fax No" name="customer_state" required />
                 
                </div>
              </div>
                          
                
            </div>
            
            <div class="d-flex flex-row m-6 flex-wrap">
             
             
              <div class="col-12 col-lg-4 col-md-6 col-sm-12">
                <span class="font-bold">Company Website</span>
                <div class="col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2">
                  <input type="text" formControlName="company_website" class="
                      form-control form-control-lg form-control-solid
                      custom-input
                      mb-3 mb-lg-0
                      bg-white
                      custom-input borderc-secondary " placeholder="Company Website" name="company_website" required />
                </div>
              </div>
              <div class="col-12 col-lg-4 col-md-6 col-sm-12">
                <span class="font-bold">Region<span class="ms-1 text-red">*</span></span>
                <ng-select formControlName="region_name" [class.is-invalid]="
                region_name.invalid && (region_name.dirty || region_name.touched)
                  "  [ngClass]="{'invalid-border': region_name.invalid && region_name.touched}" [items]="region_list"  class="custom col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2"
                  bindLabel="region_name" bindValue="region_gid" placeholder="Select an Region"></ng-select>
                <div *ngIf="
                region_name.invalid && (region_name.dirty || region_name.touched)
                  " class="invalid-feedback">
                  <div *ngIf="region_name.errors?.['required']">
                     Region is required.
                  </div>
                </div>
              </div>
              
            </div>
            
          </div>
          <div class="text-center my-4">
            <button class="btn-sm text-white me-2"  
            [ngClass]="{
                'primary-button': !reactiveForm.invalid,
                'secondary-button': reactiveForm.invalid
              }" (click)="validate()">
              <i class="fas fa-check text-white fs-5"></i> &nbsp; Submit
            </button>
  
            <button class="btn-primary btn-sm text-white me-4" (click)="onclose()">
              <i class="fas fa-arrow-left"></i> &nbsp; Back
            </button>
          </div>
        </div>
      </div> 
    </form>
  </div>
  
  