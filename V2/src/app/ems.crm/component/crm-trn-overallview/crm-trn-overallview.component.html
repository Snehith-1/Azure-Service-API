<div class="card card-bordered" style="background-color: white;">
    <div class="card-header d-flex align-items-center"
        style="background: rgb(81,183,204);
        background: linear-gradient(90deg, rgba(81,183,204,1) 0%, rgba(173,221,211,1) 35%, rgba(209,242,255,1) 100%);color:black;font-size: 14px;height:60px;padding-top: 12px;padding-left: 8px;">
        <div *ngFor="let leadbasicdetailslist1 of leadbasicdetailslist">
            <h1 class="card-title fw-bold fs-3"><b><i class="fa-solid fa-eye" style="font-size: 14px;"></i>&nbsp;
                    {{leadbasicdetailslist1.leadbank_name}}</b></h1>
        </div>
        <div class="ms-auto">
            <h5 style="color:#9e28db;">{{toDate}} &nbsp; {{currentDayName}}</h5>
            <h1> {{ rxTime | date: 'hh:mm:ss a' }} </h1>
        </div>
    </div>
    <br />
    <div class="row">
        <div class="col-lg-8 col-md-8 col-sm-8">
            <div class="row">
                <div class="col-lg-4 col-md-4 col-sm-4">
                    <div class="cardHeadLeads radius-10 border-start border-0 border-3 border-violet ms-2">
                        <div class="card-body12">
                            <div class="d-flex align-items-center">
                                <div>
                                    <h5 class="mb-0 text-secondary">Quotation Sent </h5>
                                    <div *ngFor="let totalquotationcount_list of leadcountdetails_list">
                                        <h4 class="my-1 text-info">
                                            {{totalquotationcount_list.totalquotation_count}} - £
                                            {{totalquotationcount_list.totalquotation_amount}}
                                        </h4>
                                    </div>
                                </div>
                                <div class="widgets-icons-2 rounded-circle bg-gradient-violet text-white ms-auto"><i
                                        class="fa-solid fa-calendar-days"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 col-md-4 col-sm-4">
                    <div class="cardHeadLeads radius-10 border-start border-0 border-3 border-brown ms-2">
                        <div class="card-body12">
                            <div class="d-flex align-items-center">
                                <div>
                                    <h5 class="mb-0 text-secondary"> Order </h5>
                                    <div *ngFor="let totalsalescount_list of leadcountdetails_list">
                                        <h4 class="my-1 text-info">
                                            {{totalsalescount_list.totalorder_count}} - £
                                            {{totalsalescount_list.totalorder_amount}} </h4>
                                    </div>
                                </div>
                                <div class="widgets-icons-2 rounded-circle bg-gradient-brown text-white ms-auto"><i
                                        class="fa-solid fa-asterisk"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 col-md-4 col-sm-4">
                    <div class="cardHeadLeads radius-10 border-start border-0 border-3 border-darkbrown ms-2">
                        <div class="card-body12">
                            <div class="d-flex align-items-center">
                                <div>
                                    <h5 class="mb-0 text-secondary">Invoice Sent</h5>
                                    <div *ngFor="let totalsalescount_list of leadcountdetails_list">
                                        <h4 class="my-1 text-info">
                                            {{totalsalescount_list.totalinvoice_count}} - £
                                            {{totalsalescount_list.totalinvoice_amount}} </h4>
                                    </div>
                                </div>
                                <div class="widgets-icons-2 rounded-circle bg-gradient-darkbrown text-white ms-auto">
                                    <i class="fa-solid fa-arrow-up-from-bracket"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- LEAD PROFILE-->


            <!--  -->

            <div class="row">

                <div class="col-lg-4 col-md-4 col-sm-4">
                    <div class="cardHeadLeads radius-10 border-start border-0 border-3 border-orange ms-2">
                        <div class="card-body12">
                            <div class="d-flex align-items-center">
                                <div>
                                    <h5 class="mb-0 text-secondary">Accepted </h5>
                                    <div *ngFor="let totalinvoicependingcount_list of leadcountdetails_list">
                                        <h4 class="my-1 text-info">
                                            {{totalinvoicependingcount_list.quotationaccepted_count}} - £
                                            {{totalinvoicependingcount_list.quotationaccepted_amount}}
                                        </h4>
                                    </div>
                                </div>
                                <div class="widgets-icons-2 rounded-circle bg-gradient-darkgreen text-white ms-auto"><i
                                        class="fa-solid fa-thumbs-up"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 col-md-4 col-sm-4">
                    <div class="cardHeadLeads radius-10 border-start border-0 border-3 border-blue ms-2">
                        <div class="card-body12">
                            <div class="d-flex align-items-center">
                                <div>
                                    <h5 class="mb-0 text-secondary"> Delivery </h5>
                                    <div *ngFor="let totalinvoicecompletedcount_list of leadcountdetails_list">
                                        <h4 class="my-1 text-info">
                                            {{totalinvoicecompletedcount_list.delevery_count}} - £
                                            {{totalinvoicecompletedcount_list.delevery_amount}}
                                        </h4>
                                    </div>
                                </div>
                                <div class="widgets-icons-2 rounded-circle bg-gradient-darkbluess text-white ms-auto"><i
                                        class="fa-solid fa-cart-shopping"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 col-md-4 col-sm-4">
                    <div class="cardHeadLeads radius-10 border-start border-0 border-3 border-darkorange ms-2">
                        <div class="card-body12">
                            <div class="d-flex align-items-center">
                                <div>
                                    <h5 class="mb-0 text-secondary"> Payment Received </h5>
                                    <div *ngFor="let totalinvoicecompletedcount_list of leadcountdetails_list">
                                        <h4 class="my-1 text-info">
                                            {{totalinvoicecompletedcount_list.paymentreceived_count}} - £
                                            {{totalinvoicecompletedcount_list.paymentreceived_amount}}
                                        </h4>
                                    </div>
                                </div>
                                <div class="widgets-icons-2 rounded-circle bg-gradient-purple text-white ms-auto"><i
                                        class="fa-solid fa-arrows-down-to-line"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>


            </div>
            <div class="row">

                <div class="col-lg-4 col-md-4 col-sm-4">
                    <div class="cardHeadLeads radius-10 border-start border-0 border-3 border-redskyblue ms-2">
                        <div class="card-body12">
                            <div class="d-flex align-items-center">
                                <div>
                                    <h5 class="mb-0 text-secondary">Dropped </h5>
                                    <div *ngFor="let totalinvoicecompletedcount_list of leadcountdetails_list">
                                        <h4 class="my-1 text-info">
                                            {{totalinvoicecompletedcount_list.quotationdropped_count}} - £
                                            {{totalinvoicecompletedcount_list.quotationdropped_amount}}
                                        </h4>
                                    </div>
                                </div>
                                <div
                                    class="widgets-icons-2 rounded-circle bg-gradient-reddarkbluess text-white ms-auto">
                                    <i class="fa-solid fa-thumbs-down"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 col-md-4 col-sm-4">
                    <div class="cardHeadLeads radius-10 border-start border-0 border-3 border-lightgreenborder ms-2">
                        <div class="card-body12">
                            <div class="d-flex align-items-center">
                                <div>
                                    <h5 class="mb-0 text-secondary">Order Pending </h5>
                                    <div *ngFor="let totalquotationcount_list of leadcountdetails_list">
                                        <h4 class="my-1 text-info">
                                            {{totalquotationcount_list.orderpending_count}} - £
                                            {{totalquotationcount_list.orderpending_amount}}
                                        </h4>
                                    </div>
                                </div>
                                <div
                                    class="widgets-icons-2 rounded-circle bg-gradient-greendarkbluess text-white ms-auto">
                                    <i class="fa-solid fa-calendar-days"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 col-md-4 col-sm-4">
                    <div class="cardHeadLeads radius-10 border-start border-0 border-3 border-skygreenborder ms-2">
                        <div class="card-body12">
                            <div class="d-flex align-items-center">
                                <div>
                                    <h5 class="mb-0 text-secondary">Invoice Pending </h5>
                                    <div *ngFor="let totalsalescount_list of leadcountdetails_list">
                                        <h4 class="my-1 text-info">
                                            {{totalsalescount_list.paymentpending_count}} - £
                                            {{totalsalescount_list.paymentpending_amount}}
                                        </h4>
                                    </div>
                                </div>
                                <div
                                    class="widgets-icons-2 rounded-circle bg-gradient-skydarkbluess text-white ms-auto">
                                    <i class="fa-solid fa-arrow-up-right-from-square"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>


            </div>
        </div>

            <div class="col-lg-4 col-md-4 col-sm-4">

                <div class="card shadow-sm p-3 user-profile-card radius-10  border-start border-0 border-3 border-blue1 me-3">
                    <div class="col-lg-12 col-md-6 col-sm-12 text-center symbol symbol-60px symbol-circle">
                        <img src="assets\media\patterns\user-image.jpg" width="100%" height="100%">
                    </div>
                    <div *ngFor="let leadbasicdetailslist1 of leadbasicdetailslist">

                        <p style="color: #009EF7;" class="d-flex align-items-center justify-content-center">
                            <span class="font-bold ms-3" style="font-size: 14px; margin-top: 8px;">
                                {{leadbasicdetailslist1.leadbankcontact_name}} </span>


                        </p>
                        <div class="text-black-600 ms-3 d-flex align-items-center justify-content-center"
                            style="color: #009EF7;font-size: 12px;">
                            {{leadbasicdetailslist1.email}}</div>
                        <!-- ... Rest of the user profile content ... -->
                        <br>
                        <div class="text-black-600 ms-3 d-flex align-items-center justify-content-center"
                            style="font-size:12px;">
                            <b>{{leadbasicdetailslist1.customer_type}} </b>
                        </div>

                        <div class="text-black-600 ms-3 d-flex align-items-center justify-content-center"
                            style="font-size:12px;"><b> Active Since</b> -
                            <br> <b> {{leadbasicdetailslist1.created_date}}</b>
                        </div>

                    </div>
                    <br>
                    <div class="d-flex justify-content-center"
                        *ngFor="let leadbasicdetailslist1 of leadbasicdetailslist">
                        <button title="Edit" type="button"
                            class="widgets-icons-2 rounded-circle bg-gradient-info1 text-white me-2"
                            data-bs-toggle="modal" data-bs-target="#myModaleditcontact"
                            (click)="openmodaleditcustomer(leadbasicdetailslist1.leadbank_gid)">
                            <span class="fa-solid fa-pencil text-white fs-6"></span>
                        </button>
                        <ng-container *ngIf="leadbasicdetailslist1.customer_gid !== '' ">
                            <button title="Add to customer" type="button"
                                class="widgets-icons-2 rounded-circle bg-gradient-user text-white"
                                data-bs-toggle="modal" data-bs-target="#myModalalreadycustomer">
                                <span class="fa-solid fa-user-plus text-white fs-6"></span>
                            </button>
                        </ng-container>
                        <ng-container *ngIf="leadbasicdetailslist1.customer_gid === '' ">

                            <button title="Add to customer" type="button"
                                class="widgets-icons-2 rounded-circle bg-gradient-user text-white"
                                data-bs-toggle="modal" data-bs-target="#myModaladdtocustomer"
                                (click)="openModaladdtocustomer()">
                                <span class="fa-solid fa-user-plus text-white fs-6"></span>
                            </button>
                        </ng-container>&nbsp;&nbsp;
                        <ng-container *ngIf="leadbasicdetailslist1.customer_gid === '' ">
                            <button title="Price Segment" type="button"
                                class="widgets-icons-2 rounded-circle bg-gradient-brown text-white"
                                data-bs-toggle="modal" data-bs-target="#myModalpricesegmentmsg">
                                <span class="fas fa-ticket text-white fs-3"></span>
                            </button>
                        </ng-container>
                        <ng-container *ngIf="leadbasicdetailslist1.customer_gid !== '' ">

                            <button title="Price Segment" type="button"
                                class="widgets-icons-2 rounded-circle bg-gradient-brown text-white"
                                data-bs-toggle="modal"
                                (click)="openModalpricesegment(leadbasicdetailslist1.customer_gid)">
                                <span class="fas fa-ticket text-white fs-3"></span>
                            </button>
                        </ng-container>&nbsp;&nbsp;
                        <!-- <button title="Schedule Details" type="button"
                    class="widgets-icons-2 rounded-circle bg-gradient-darkoranges text-white me-2"
                    data-bs-toggle="modal" data-bs-target="#myscheduledetails">
                    <span class="fa fa-clock text-white fs-6"></span>
                </button> -->

                    </div>

                </div>

</div>
    </div>

    <div class="row">
        <div class="col-lg-5 col-md-5 col-sm-5">
            <div class="card-header "
                style="background: rgb(81,183,204);
            background: linear-gradient(90deg, rgba(81,183,204,1) 0%, rgba(173,221,211,1) 35%, rgba(209,242,255,1) 100%);color:black;font-size: 14px;align-items: center;margin: 2px;">
                <b>WhatsApp </b>
                <button class="btn dropdown-toggle fs-1" type="button" data-bs-toggle="collapse"
                    data-bs-target="#collapseThrid" aria-expanded="true" aria-controls="collapseThrid"></button>
            </div>
            <div id="collapseThrid" class="accordion-collapse collapse show" data-bs-parent="#accordionExample3">
                <div class="accordion-body">
                    <div class="row" style="margin-left: -34px;">
                        <div id="kt_app_content" class="app-content flex-column-fluid" style="max-height: 400px;">
                            <div id="kt_app_content_container" class="app-container container-xxl"
                                style="margin-top: -30px;">
                                <div class="d-flex flex-column flex-lg-row">
                                    <div class="flex-lg-row-fluid ms-lg-7 ms-xl-5">
                                        <!----message card header-->
                                        <div class="card bg-secondary" id="kt_chat_messenger"
                                            style="max-height: 360px; min-height: 400px; margin-right: -30px; margin-left: -10px;">
                                            <div class="card-header bg-skyblue" id="kt_chat_messenger_header">
                                                <h3 class="card-title " style="color: white;"><i class="fab fa-whatsapp"
                                                        style="color: white; font-size: 20px;"></i>
                                                    &nbsp; WhatsApp Chats </h3>

                                            </div>
                                            <!----message card header-->
                                            <div class="card-header" id="kt_chat_messenger_header">
                                                <div *ngFor="let data of whatsapp_list; let i=index;">
                                                    <div class="card-title">
                                                        <div class="symbol symbol-35px symbol-circle bg-white">
                                                            <span
                                                                class="symbol-label bg-light-danger text-danger fs-6 fw-bolder">
                                                                {{data.first_letter}}</span>
                                                        </div>
                                                        <div class="d-flex justify-content-center flex-column me-3">
                                                            <a href="#"
                                                                class="fs-4 fw-bold text-gray-900 text-hover-primary me-1 mb-2 lh-1"
                                                                style="margin-left: 10px;">{{data.displayName}}</a>
                                                            <div class="mb-0 lh-1">
                                                                <span
                                                                    class="badge badge-success badge-circle w-10px h-10px me-1"
                                                                    style="margin-left: 15px;"></span>
                                                                <span class="fs-7 fw-semibold text-muted"
                                                                    style="margin-left: 5px;">Active</span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- Message chat body-->
                                            <div class="card-body bg-message" id="kt_chat_messenger_body"
                                                style=" max-height: 300px; overflow-y: auto;">
                                                <div class="scroll-y me-n5 pe-5 h-300px h-lg-auto"
                                                    data-kt-element="messages" id="kt_chat_messenger_body"
                                                    data-kt-scroll="true"
                                                    data-kt-scroll-activate="{default: false, lg: true}"
                                                    data-kt-scroll="true"
                                                    data-kt-scroll-activate="{default: false, lg: true}"
                                                    data-kt-scroll-max-height="auto"
                                                    data-kt-scroll-dependencies="#kt_header, #kt_app_header, #kt_app_toolbar, #kt_toolbar, #kt_footer, #kt_app_footer, #kt_chat_messenger_header, #kt_chat_messenger_footer"
                                                    data-kt-scroll-wrappers="#kt_content, #kt_app_content, #kt_chat_messenger_body"
                                                    data-kt-scroll-offset="5px">
                                                    <div *ngFor="let data of whatsappmessage_list; let i=index;">
                                                        <div *ngIf="data.direction === 'incoming'"
                                                            class="d-flex justify-content-start mb-10">
                                                            <div *ngIf="data.type === 'text'"
                                                                class="d-flex flex-column align-items-start">
                                                                <span class="text-muted fs-7 mb-1">{{data.time}}</span>
                                                                <div class="p-5 rounded bg-white text-dark fw-semibold mw-lg-400px text-start"
                                                                    data-kt-element="message-text">
                                                                    {{data.message_text}}</div>
                                                            </div>
                                                            <div *ngIf="data.type === 'image'"
                                                                class="d-flex flex-column align-items-start">
                                                                <span class="text-muted fs-7 mb-1">{{data.time}}</span>
                                                                <div class="bordered-image"
                                                                    data-kt-element="message-text">
                                                                    <img src="{{data.document_path}}" alt=""
                                                                        style="width:100px;height:150px;">
                                                                </div>
                                                            </div>
                                                            <div *ngIf="data.document_path.endsWith('.mp4')"
                                                                class="d-flex flex-column align-items-start">
                                                                <span class="text-muted fs-7 mb-1">{{data.time}}</span>
                                                                <div class="bordered-image"
                                                                    data-kt-element="message-text">
                                                                    <video controls style="width:100px;height:150px;">
                                                                        <source src="{{data.document_path}}">
                                                                    </video>
                                                                </div>
                                                            </div>
                                                            <div class="d-flex flex-column align-items-start">
                                                                <ng-container
                                                                    *ngIf="whatsappmessage_list[i] &&  whatsappmessage_list[i].document_path.endsWith('.pdf?sp=r&st=2024-01-25T07:29:54Z&se=2026-02-07T15:29:54Z&spr=https&sv=2022-11-02&sr=c&sig=dtTvzW9LVXWG1R8yXWXdSy5wKLsoyrOtm9XsOxc2SwQ%3D') ||
                                                                    whatsappmessage_list[i].document_path.endsWith('.doc?sp=r&st=2024-01-25T07:29:54Z&se=2026-02-07T15:29:54Z&spr=https&sv=2022-11-02&sr=c&sig=dtTvzW9LVXWG1R8yXWXdSy5wKLsoyrOtm9XsOxc2SwQ%3D') ||
                                                                    whatsappmessage_list[i].document_path.endsWith('.docx?sp=r&st=2024-01-25T07:29:54Z&se=2026-02-07T15:29:54Z&spr=https&sv=2022-11-02&sr=c&sig=dtTvzW9LVXWG1R8yXWXdSy5wKLsoyrOtm9XsOxc2SwQ%3D') ||
                                                                    whatsappmessage_list[i].document_path.endsWith('.txt?sp=r&st=2024-01-25T07:29:54Z&se=2026-02-07T15:29:54Z&spr=https&sv=2022-11-02&sr=c&sig=dtTvzW9LVXWG1R8yXWXdSy5wKLsoyrOtm9XsOxc2SwQ%3D') ||
                                                                    whatsappmessage_list[i].document_path.endsWith('.xlsx?sp=r&st=2024-01-25T07:29:54Z&se=2026-02-07T15:29:54Z&spr=https&sv=2022-11-02&sr=c&sig=dtTvzW9LVXWG1R8yXWXdSy5wKLsoyrOtm9XsOxc2SwQ%3D') ||
                                                                    whatsappmessage_list[i].document_path.endsWith('.xls?sp=r&st=2024-01-25T07:29:54Z&se=2026-02-07T15:29:54Z&spr=https&sv=2022-11-02&sr=c&sig=dtTvzW9LVXWG1R8yXWXdSy5wKLsoyrOtm9XsOxc2SwQ%3D')">
                                                                    <span
                                                                        class="text-muted fs-7 mb-1">{{data.time}}</span>
                                                                    <div class="p-5 rounded bg-lightgreen text-dark fw-semibold mw-lg-400px text-start"
                                                                        data-kt-element="message-text"> <a
                                                                            [href]="whatsappmessage_list[i]?.document_path"
                                                                            title="Download" target="_blank"><i
                                                                                class="fa-solid fa-download"></i>&nbsp;&nbsp;{{whatsappmessage_list[i]?.document_name}}</a>
                                                                    </div>
                                                                </ng-container>
                                                            </div>
                                                        </div>
                                                        <div *ngIf="data.direction === 'outgoing'"
                                                            class="d-flex justify-content-end mb-10">
                                                            <div *ngIf="data.type === 'text'"
                                                                class="d-flex flex-column align-items-start">
                                                                <span class="text-muted fs-7 mb-1">{{data.time}}</span>
                                                                <div class="p-5 rounded bg-lightgreen text-dark fw-semibold mw-lg-400px text-start"
                                                                    data-kt-element="message-text">
                                                                    {{data.message_text}}</div>
                                                            </div>
                                                            <div *ngIf="data.type === 'image'"
                                                                class="d-flex flex-column align-items-start">
                                                                <span class="text-muted fs-7 mb-1">{{data.time}}</span>
                                                                <div class="bordered-image"
                                                                    data-kt-element="message-text">
                                                                    <img src="{{data.document_path}}" alt=""
                                                                        style="width:100px;height:150px;">
                                                                </div>
                                                            </div>
                                                            <div *ngIf="data.document_path.endsWith('.mp4')"
                                                                class="d-flex flex-column align-items-start">
                                                                <span class="text-muted fs-7 mb-1">{{data.time}}</span>
                                                                <div class="bordered-image"
                                                                    data-kt-element="message-text">
                                                                    <video controls style="width:100px;height:150px;">
                                                                        <source src="{{data.document_path}}">
                                                                    </video>
                                                                </div>
                                                            </div>
                                                            <div class="d-flex flex-column align-items-start">
                                                                <ng-container
                                                                    *ngIf="whatsappmessage_list[i] &&  whatsappmessage_list[i].document_path.endsWith('.pdf?sp=r&st=2024-01-25T07:29:54Z&se=2026-02-07T15:29:54Z&spr=https&sv=2022-11-02&sr=c&sig=dtTvzW9LVXWG1R8yXWXdSy5wKLsoyrOtm9XsOxc2SwQ%3D') ||
                                                                    whatsappmessage_list[i].document_path.endsWith('.doc?sp=r&st=2024-01-25T07:29:54Z&se=2026-02-07T15:29:54Z&spr=https&sv=2022-11-02&sr=c&sig=dtTvzW9LVXWG1R8yXWXdSy5wKLsoyrOtm9XsOxc2SwQ%3D') ||
                                                                    whatsappmessage_list[i].document_path.endsWith('.docx?sp=r&st=2024-01-25T07:29:54Z&se=2026-02-07T15:29:54Z&spr=https&sv=2022-11-02&sr=c&sig=dtTvzW9LVXWG1R8yXWXdSy5wKLsoyrOtm9XsOxc2SwQ%3D') ||
                                                                    whatsappmessage_list[i].document_path.endsWith('.txt?sp=r&st=2024-01-25T07:29:54Z&se=2026-02-07T15:29:54Z&spr=https&sv=2022-11-02&sr=c&sig=dtTvzW9LVXWG1R8yXWXdSy5wKLsoyrOtm9XsOxc2SwQ%3D') ||
                                                                    whatsappmessage_list[i].document_path.endsWith('.xlsx?sp=r&st=2024-01-25T07:29:54Z&se=2026-02-07T15:29:54Z&spr=https&sv=2022-11-02&sr=c&sig=dtTvzW9LVXWG1R8yXWXdSy5wKLsoyrOtm9XsOxc2SwQ%3D') ||
                                                                    whatsappmessage_list[i].document_path.endsWith('.xls?sp=r&st=2024-01-25T07:29:54Z&se=2026-02-07T15:29:54Z&spr=https&sv=2022-11-02&sr=c&sig=dtTvzW9LVXWG1R8yXWXdSy5wKLsoyrOtm9XsOxc2SwQ%3D')">
                                                                    <span
                                                                        class="text-muted fs-7 mb-1">{{data.time}}</span>
                                                                    <div class="p-5 rounded bg-lightgreen text-dark fw-semibold mw-lg-400px text-start"
                                                                        data-kt-element="message-text"> <a
                                                                            [href]="whatsappmessage_list[i]?.document_path"
                                                                            title="Download" target="_blank"><i
                                                                                class="fa-solid fa-download"></i>&nbsp;&nbsp;{{whatsappmessage_list[i]?.document_name}}</a>
                                                                    </div>

                                                                </ng-container>
                                                            </div>
                                                        </div>

                                                    </div>
                                                </div>
                                            </div>
                                            <!------Message chat body------->

                                            <!------Message chat footer------->
                                            <form [formGroup]="reactiveMessageForm" #form="ngForm">
                                                <div class="card-footer pt-4" id="kt_chat_messenger_footer"
                                                    style="padding: 0;">
                                                    <div class="d-flex flex-row m-6 mt-0 flex-wrap">

                                                        <div *ngFor="let data of whatsappmessage_list; let i=index;">
                                                            <input type="hidden" [formControlName]="'identifierValue'"
                                                                [value]="data.identifierValue" />
                                                        </div>

                                                        <div>
                                                            <div *ngIf="openDiv" class="sampel card border ">
                                                                <div class="nassar rounded-top p-3 ">
                                                                    <button type="button" class="btn-wts-icon"
                                                                        style="background-color: transparent;"
                                                                        data-bs-toggle="modal"
                                                                        data-bs-target="#myModaldocument"
                                                                        (click)="setFileType('file')"> <i
                                                                            class="fa-regular fa-file fs-default-icon text-blue"></i>
                                                                        &nbsp;&nbsp;<span
                                                                            class="text-black">Document</span></button>
                                                                </div>
                                                                <div class="nassar rounded-top p-3">
                                                                    <button type="button" class="btn-wts-icon"
                                                                        style="background-color: transparent;"
                                                                        data-bs-toggle="modal"
                                                                        data-bs-target="#myModalimage"
                                                                        (click)="setFileType('image')">
                                                                        <i
                                                                            class="fa-regular fa-file fs-default-icon text-green"></i>
                                                                        &nbsp;&nbsp;<span
                                                                            class="text-black">Image</span></button>
                                                                </div>
                                                            </div>
                                                            <button title="Attach Files" type="button"
                                                                class="btn btn-icon btn-sm btn-attach me-2"
                                                                (click)="attachments()">
                                                                <i class="fas fa-paperclip fw-bolder fs-3"></i>
                                                            </button>
                                                        </div>



                                                        <div *ngFor="let data of whatsappmessage_list; let i=index;">
                                                            <button title="Attach Templates" type="button"
                                                                class="btn btn-icon btn-sm bg-temp me-2"
                                                                data-kt-element="template" data-bs-target="#template"
                                                                data-bs-toggle="modal"
                                                                (click)="poptemplatemodal(data.identifierValue)"
                                                                *ngIf="i === 0">
                                                                <i class="fas fa-plus fw-bolder fs-3"></i>
                                                            </button>
                                                        </div>

                                                        <input formControlName="sendtext" type="text" style="width:70%;"
                                                            class="
                                        form-control form-control-lg form-control-solid
                                        custom-input
                                        mb-1 mb-lg-0
                                        bg-white
                                        custom-input
                                      " placeholder="Type a message" name="sendtext" />&nbsp;&nbsp;&nbsp;&nbsp;

                                                        <div *ngFor="let data of whatsappmessage_list; let i=index;">
                                                            <button title="Send" type="button"
                                                                [value]="data.identifierValue"
                                                                class="btn btn-icon btn-sm bg-skyblue me-2"
                                                                (click)="onMessagesent(data.identifierValue, data.contact_id)"
                                                                *ngIf="i === 0">
                                                                <i class="fas fa-paper-plane fs-3"></i>
                                                            </button>
                                                        </div>


                                                    </div>
                                                </div>
                                            </form>
                                            <!------Message chat footer------->
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- </div>
            </div> -->
        </div>
        <!-- mail body starts -->
        <div class="col-lg-7 col-md-7 col-sm-12">
            <div class="card-header "
                style="background: rgb(81,183,204);
            background: linear-gradient(90deg, rgba(81,183,204,1) 0%, rgba(173,221,211,1) 35%, rgba(209,242,255,1) 100%);color:black;font-size: 14px;align-items: center;margin: 2px;">
                <b>Mail</b>
                <div class="d-flex ms-auto">
                    <button type="button" class=" btn btn-sm text-white me-4  " style="background-color: #097495;"
                        data-bs-toggle="modal" data-bs-target="#myModaladd" title="Compose Mail">
                        <span style="font-size: 10px;"><b><i class="fas fa-plus"></i> &nbsp;Compose
                                Mail</b></span>
                    </button>
                </div>
                <button class="btn dropdown-toggle fs-1" type="button" data-bs-toggle="collapse"
                    data-bs-target="#collapseFourth" aria-expanded="true" aria-controls="collapseFourth"></button>
            </div>
            <div id="collapseFourth" class="accordion-collapse collapse show" data-bs-parent="#accordionExample4">
                <ng-container *ngIf="mailopen">
                    <div class="accordion-body">
                        <div class="table-responsive" style="max-height: 392px;">
                            <div class="card card-body m-3  p-3 mb-5 bg-white rounded ">
                                <table id="mailsummary_list" class="table table-striped table-row-bordered gy-5 gs-7 ">
                                    <thead>
                                        <tr class="fw-bold fs-6 text-nowrap bg-mail text-white">
                                            <!-- <th>Mail Address</th> -->
                                            <th>Mail Details </th>
                                            <th>Mail Status</th>
                                            <th>Last Updated</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr *ngFor="let data of mailsummary_list; let i=index;">
                                            <!-- <td class="w-150px w-md-175px">
                                                        <a (click)="viewpage(data.mailmanagement_gid)"
                                                            class="d-flex align-items-center text-gray-900">
                                                            <span class="fw-semibold ">{{data.to}}</span>
                                                        </a>

                                                    </td> -->
                                            <td>
                                                <div class="text-gray-900 gap-1 limited-line">
                                                    <a (click)="viewpage(data.mailmanagement_gid)"
                                                        class="text-gray-900">
                                                        <span class="fw-bold ">{{data.sub}}</span>
                                                    </a>
                                                </div>
                                            </td>
                                            <td>
                                                <div (click)="viewpage(data.mailmanagement_gid)" class=" text-gray-900 "
                                                    style="width: 90px;">
                                                    <span *ngIf="data.direction === 'incoming' "><label class="ms-3"
                                                            class="badge bg-primary text-white ">Received</label></span>
                                                    <span *ngIf="data.direction === 'outgoing'"><label class="ms-3"
                                                            class="badge bg-info text-white ">Delivered</label></span>
                                                    <br>
                                                    <span *ngIf="data.status_open === 'open'" class="ms-3"
                                                        class="badge bg-success text-white ">Viewed</span>
                                                </div>
                                            </td>
                                            <td>
                                                <span
                                                    class="fw-semibold ">{{data.created_date}}<br>{{data.created_time}}</span>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </ng-container>
                <ng-container *ngIf="!mailopen && mailreply">
                    <div style="height: 200;overflow-y: auto;">
                        <br>
                        <div class="row">
                            <div class="col">
                                <span
                                    class="fw-bold text-gray-900 text-hover-primary">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;From:
                                </span>

                                <a href="#" class=" text-gray-900 text-hover-primary">{{to_mail}}</a>
                            </div>
                            <div class="col text-end">
                                <span class="fw-bold text-gray-900 text-hover-primary text-end me-3 mt-1">
                                    Date:</span>
                                <a href="#" class=" text-gray-900 text-hover-primary me-3">{{created_date}}</a>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col">
                                <span
                                    class="fw-bold text-gray-900 text-hover-primary">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Subject:
                                </span>
                                <a href="#" class=" text-gray-900 text-hover-primary">{{subject}}</a>
                            </div>
                            <div class="col text-end">
                                <span class="fw-bold text-gray-900 text-hover-primary text-end me-3 mt-1">
                                    Time:</span>
                                <a href="#" class=" text-gray-900 text-hover-primary me-3">{{created_time}}</a>
                            </div>
                        </div>
                        <br>
                        <div class="row">
                            <div class="col">
                                <div style="width:620px;margin-left:21px;height: 370px;">
                                    <div [innerHTML]="body">
                                    </div><br>
                                    <div *ngFor="let data of mailview_list; let i=index;">
                                        <ng-container *ngIf="mailview_list[i] &&  mailview_list[i].document_path.endsWith('.jpg?sp=r&st=2024-01-25T07:29:54Z&se=2026-02-07T15:29:54Z&spr=https&sv=2022-11-02&sr=c&sig=dtTvzW9LVXWG1R8yXWXdSy5wKLsoyrOtm9XsOxc2SwQ%3D') ||
                                                        mailview_list[i].document_path.endsWith('.jpeg?sp=r&st=2024-01-25T07:29:54Z&se=2026-02-07T15:29:54Z&spr=https&sv=2022-11-02&sr=c&sig=dtTvzW9LVXWG1R8yXWXdSy5wKLsoyrOtm9XsOxc2SwQ%3D') ||
                                                        mailview_list[i].document_path.endsWith('.png?sp=r&st=2024-01-25T07:29:54Z&se=2026-02-07T15:29:54Z&spr=https&sv=2022-11-02&sr=c&sig=dtTvzW9LVXWG1R8yXWXdSy5wKLsoyrOtm9XsOxc2SwQ%3D') ||
                                                        mailview_list[i].document_path.endsWith('.gif?sp=r&st=2024-01-25T07:29:54Z&se=2026-02-07T15:29:54Z&spr=https&sv=2022-11-02&sr=c&sig=dtTvzW9LVXWG1R8yXWXdSy5wKLsoyrOtm9XsOxc2SwQ%3D') ||
                                                        mailview_list[i].document_path.endsWith('.svg?sp=r&st=2024-01-25T07:29:54Z&se=2026-02-07T15:29:54Z&spr=https&sv=2022-11-02&sr=c&sig=dtTvzW9LVXWG1R8yXWXdSy5wKLsoyrOtm9XsOxc2SwQ%3D') ||
                                                        mailview_list[i].document_path.endsWith('.tiff?sp=r&st=2024-01-25T07:29:54Z&se=2026-02-07T15:29:54Z&spr=https&sv=2022-11-02&sr=c&sig=dtTvzW9LVXWG1R8yXWXdSy5wKLsoyrOtm9XsOxc2SwQ%3D') ||
                                                        mailview_list[i].document_path.endsWith('.tif?sp=r&st=2024-01-25T07:29:54Z&se=2026-02-07T15:29:54Z&spr=https&sv=2022-11-02&sr=c&sig=dtTvzW9LVXWG1R8yXWXdSy5wKLsoyrOtm9XsOxc2SwQ%3D') ||
                                                        mailview_list[i].document_path.endsWith('.bmp?sp=r&st=2024-01-25T07:29:54Z&se=2026-02-07T15:29:54Z&spr=https&sv=2022-11-02&sr=c&sig=dtTvzW9LVXWG1R8yXWXdSy5wKLsoyrOtm9XsOxc2SwQ%3D')">
                                            <img src="{{data.document_path }}" alt=""
                                                style="width:300px; height:150px;">&nbsp;
                                        </ng-container>
                                        <ng-container
                                            *ngIf="mailview_list[i] && mailview_list[i].document_path.endsWith('.mp4?sp=r&st=2024-01-25T07:29:54Z&se=2026-02-07T15:29:54Z&spr=https&sv=2022-11-02&sr=c&sig=dtTvzW9LVXWG1R8yXWXdSy5wKLsoyrOtm9XsOxc2SwQ%3D')">
                                            <video controls style="width:300px; height:150px;">
                                                <source [src]="mailview_list[i].document_path" type="video/mp4">
                                            </video>
                                        </ng-container>
                                        <br>
                                        <ng-container *ngIf="mailview_list[i].document_path.endsWith('.doc?sp=r&st=2024-01-25T07:29:54Z&se=2026-02-07T15:29:54Z&spr=https&sv=2022-11-02&sr=c&sig=dtTvzW9LVXWG1R8yXWXdSy5wKLsoyrOtm9XsOxc2SwQ%3D') ||
                                                    mailview_list[i].document_path.endsWith('.docx?sp=r&st=2024-01-25T07:29:54Z&se=2026-02-07T15:29:54Z&spr=https&sv=2022-11-02&sr=c&sig=dtTvzW9LVXWG1R8yXWXdSy5wKLsoyrOtm9XsOxc2SwQ%3D') ||
                                                    mailview_list[i].document_path.endsWith('.txt?sp=r&st=2024-01-25T07:29:54Z&se=2026-02-07T15:29:54Z&spr=https&sv=2022-11-02&sr=c&sig=dtTvzW9LVXWG1R8yXWXdSy5wKLsoyrOtm9XsOxc2SwQ%3D') ||
                                                    mailview_list[i].document_path.endsWith('.xlsx?sp=r&st=2024-01-25T07:29:54Z&se=2026-02-07T15:29:54Z&spr=https&sv=2022-11-02&sr=c&sig=dtTvzW9LVXWG1R8yXWXdSy5wKLsoyrOtm9XsOxc2SwQ%3D') ||
                                                    mailview_list[i].document_path.endsWith('.xls?sp=r&st=2024-01-25T07:29:54Z&se=2026-02-07T15:29:54Z&spr=https&sv=2022-11-02&sr=c&sig=dtTvzW9LVXWG1R8yXWXdSy5wKLsoyrOtm9XsOxc2SwQ%3D')||
                                                    mailview_list[i].document_path.endsWith('.pdf?sp=r&st=2024-01-25T07:29:54Z&se=2026-02-07T15:29:54Z&spr=https&sv=2022-11-02&sr=c&sig=dtTvzW9LVXWG1R8yXWXdSy5wKLsoyrOtm9XsOxc2SwQ%3D')">
                                            <a [href]="mailview_list[i]?.document_path"
                                                target="_blank">{{mailview_list[i]?.document_name}}</a>
                                        </ng-container>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="btn-group" style="margin-left: 250px;">
                        <div *ngIf="direction ==='incoming'">
                            <button type="button" class="btn send-button  text-white" (click)="onreply()">Reply
                                To
                            </button>&nbsp;&nbsp;
                        </div>
                        <button title="Back" class="btn back-button text-white " (click)="onbackmail()">
                            <i class="fas fa-arrow-left"></i>
                            Back
                        </button>
                    </div>
                </ng-container>
                <!-- mail form begins -->
                <ng-container *ngIf="!mailreply">
                    <br>
                    <div style="height: 200;overflow-y: auto;">
                        <div class="row">
                            <div class="col">
                                <span
                                    class="fw-bold text-gray-900 text-hover-primary">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;From:
                                </span>
                                <a href="#" class=" text-gray-900 text-hover-primary">{{to_mail}}</a>
                            </div>
                            <div class="col text-end">
                                <span class="fw-bold text-gray-900 text-hover-primary text-end me-3 mt-1">
                                    Date:</span>
                                <a href="#" class=" text-gray-900 text-hover-primary me-3">{{created_date}}</a>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col">
                                <span
                                    class="fw-bold text-gray-900 text-hover-primary">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Subject:
                                </span>
                                <a href="#" class=" text-gray-900 text-hover-primary">{{subject}}</a>
                            </div>
                            <div class="col text-end">
                                <span class="fw-bold text-gray-900 text-hover-primary text-end me-3 mt-1">
                                    Time:</span>
                                <a href="#" class=" text-gray-900 text-hover-primary me-3">{{created_time}}</a>
                            </div>
                        </div>
                        <div class="my-7" style="width:500px;margin-left:21px;height: 110px;">
                            <div [innerHTML]="body"></div>
                        </div>
                    </div>
                    <form [formGroup]="reactiveForm" #form="ngForm" id="kt_inbox_compose_form">
                        <div class="d-block">
                            <div class="border-bottom">
                                <div class="d-flex col">
                                    <input formControlName="sub" style="margin-left:10px;width:350px;" type="text"
                                        class="
                                    form-control form-control-lg form-control-solid
                                    custom-input
                                    mb-3 mb-lg-0
                                    bg-white
                                    custom-input
                                    " [ngStyle]="{
                                    'border-color':
                                    sub.invalid && sub.touched
                                        ? 'red'
                                        : 'rgb(209, 209, 209)'
                                     }" pattern="^(?!\s*$).+" placeholder="Subject" required /><span
                                        class="ms-1 text-red">*</span>
                                    <div *ngIf="sub.invalid && (sub.dirty || sub.touched)">
                                        <div *ngIf="sub.errors?.['required']">
                                            <span style="color:red;">Subject Is
                                                required.</span>
                                        </div>
                                    </div>&nbsp;
                                    <input (change)="onChange2($event)" style="margin-left:10px;width:262px;"
                                        accept="image/*,.pdf,.doc,.docx,.txt,.xlsx,.xls,.mp4" type="file" #fileInput
                                        class="
                                            form-control form-control-lg form-control-solid bg-white
                                            mb-3 mb-lg-0  borderc-secondary custom-input
                                            " name="fName" multiple />
                                </div>
                                <div class="col" style="margin-left:10px;width:570px;">
                                    <div class="fv-row mt-2">
                                        <angular-editor [config]="config" formControlName="body"></angular-editor>
                                    </div>
                                </div>
                            </div>
                            <div class="btn-group" style="margin-left: 250px;">
                                <button type="button" class="btn send-button  text-white" data-bs-dismiss="modal"
                                    (click)="onadd()">Reply
                                    To</button>&nbsp;&nbsp;
                                <button title="Back" class="btn back-button text-white " (click)="onbackmail()">
                                    <i class="fas fa-arrow-left"></i>
                                    Back
                                </button>
                            </div>
                        </div>
                    </form>
                </ng-container>
                <!-- mail form  -->
            </div>
        </div>
        <!-- mail compose begins -->
        <form #form="ngForm">
            <div class="modal modal-xl" id="myModaladd" data-bs-backdrop="static" data-bs-keyboard="false">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="card-header p-1 pb-2 pt-1 rounded-top bg-primary">
                            <h2 style="margin-top:10px;color:white;font-weight: bold;">&nbsp;&nbsp;<i
                                    class="fas fa-plus fw-bolder fs-3"></i> &nbsp;&nbsp;Compose Mail</h2>
                        </div>
                        <div class="modal-body">
                            <div id="kt_app_content" class="app-content  flex-column-fluid ">
                                <div id="kt_app_content_container" class="app-container  container-xxl ">
                                    <div>
                                        <div>
                                            <div class="">
                                                <div class="card-body p-0">
                                                    <form [formGroup]="reactiveForm" #form="ngForm"
                                                        id="kt_inbox_compose_form">
                                                        <div class="d-block">
                                                            <div
                                                                class="d-flex align-items-center border-bottom px-8 min-h-50px">

                                                                <div class="text-gray-900 fw-bold w-75px">
                                                                    From:
                                                                </div>
                                                                <input [readonly]="isReadOnly" type="text"
                                                                    class="form-control form-control-transparent border-0"
                                                                    [value]="sending_domain" />
                                                            </div>
                                                            <!-- <div
                                                            class="d-flex align-items-center border-bottom px-8 min-h-50px">
                                                            <div class="text-gray-900 fw-bold w-75px">
                                                                Reply To:
                                                            </div>
                                                            <input type="text"
                                                                class="form-control form-control-transparent border-0"
                                                                formControlName="reply_to" value="company@receive.vcidex.com"
                                                                data-kt-inbox-form="tagify" />
                                                            <div
                                                                *ngIf="reply_to.invalid && (reply_to.dirty || reply_to.touched)">
                                                                <div *ngIf="reply_to.errors?.['required']">
                                                                    <span style="color:red;">&nbsp;Reply Is
                                                                        required.</span>
                                                                </div>
                                                            </div>
                                                        </div> -->
                                                            <div
                                                                class="d-flex align-items-center border-bottom px-8 min-h-50px">
                                                                <div class="text-gray-900 fw-bold w-75px">
                                                                    To:
                                                                </div>
                                                                <input [readonly]="isReadOnly" type="text"
                                                                    class="form-control form-control-transparent border-0"
                                                                    formControlName="to" [value]="to_mail"
                                                                    data-kt-inbox-form="tagify" />
                                                            </div>
                                                            <div class="border-bottom">
                                                                <input
                                                                    class="form-control form-control-transparent border-0 px-8 min-h-45px"
                                                                    formControlName="sub" placeholder="Subject" />
                                                                <div *ngIf="sub.invalid && (sub.dirty || sub.touched)">
                                                                    <div *ngIf="sub.errors?.['required']">
                                                                        <span style="color:red;">&nbsp;Subject Is
                                                                            required.</span>
                                                                    </div>
                                                                </div>
                                                            </div><br>
                                                            <div class="d-flex flex-row m-6 mt-0">
                                                                <div class="col">
                                                                    <span class="font-bold">Upload </span>
                                                                    <div class="col-lg-12 fv-row mt-2">
                                                                        <input (change)="onChange2($event)"
                                                                            accept="image/*,.pdf,.doc,.docx,.txt,.xlsx,.xls,.mp4"
                                                                            type="file" #fileInput class="
                                                                        form-control form-control-lg form-control-solid bg-white
                                                                        mb-3 mb-lg-0  borderc-secondary custom-input
                                                                        " name="fName" multiple />
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-12 col-lg-12 col-sm-12">
                                                                <div class="d-flex flex-row m-6 mt-0 ">
                                                                    <div class="col">
                                                                        <div class="fv-row mt-2">
                                                                            <angular-editor
                                                                                [config]="config_compose_mail"
                                                                                formControlName="body">
                                                                            </angular-editor>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div
                                                            class="d-flex flex-stack flex-wrap justify-content-center gap-2 py-5 ps-8 pe-5 border-top">
                                                            <div class="d-flex align-items-center me-3">
                                                                <div class="btn-group align-items-center  me-4 ">
                                                                    <div class="btn-group">
                                                                        <button type="button"
                                                                            class="btn-success btn-sm fa-solid fa-paper-plane text-white fs-5 text-white me-2"
                                                                            data-bs-dismiss="modal" (click)="onadd()">
                                                                            Send</button>
                                                                        <button
                                                                            class="btn-danger btn-sm text-white me-4"
                                                                            data-bs-dismiss="modal">
                                                                            <i class="fas fa-close text-white"></i>
                                                                            &nbsp;Close
                                                                        </button>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </form>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </form>
        <!-- mail compose -->
        <!-- mail ends -->
        <br>
    </div>
    <div class="row">
        <div class="col-lg-4 col-md-4 col-sm-4">
            <div class="card-header "
                style="background: rgb(81,183,204);
            background: linear-gradient(90deg, rgba(81,183,204,1) 0%, rgba(173,221,211,1) 35%, rgba(209,242,255,1) 100%);color:black;font-size: 14px;align-items: center;margin: 2px;">
                <b>Enquiry</b>
                <div *ngFor="let leadbasicdetailslist1 of leadbasicdetailslist" class="d-flex ms-auto">
                  
                    <ng-container *ngIf="leadbasicdetailslist1.customer_gid === '' ">
                       
                            <button type="button" class="btn btn-sm text-white me-4"
                            style="background-color: #097495;" data-bs-toggle="modal"
                            data-bs-target="#myModalcustomermsg" title="Raise Enquiry">
                            <span style="font-size: 11px;"><i class="fas fa-plus"></i> &nbsp;<b>Raise Enquiry</b></span>
                        </button>
                    </ng-container>
                    <ng-container *ngIf="leadbasicdetailslist1.customer_gid !== '' ">
                        <button type="button" class="btn btn-sm text-white me-4"
                            style="background-color: #097495;" (click)="raiseenquiry()"
                            title="Raise Enquiry">
                            <span style="font-size: 11px;"><i class="fas fa-plus"></i> &nbsp;<b>Raise Enquiry</b></span>
                        </button>

                    </ng-container>
                   
                </div>
                <button class="btn dropdown-toggle fs-1" type="button" data-bs-toggle="collapse"
                data-bs-target="#collapseTen" aria-expanded="true" aria-controls="collapseTen   "></button>
     
                   </div>
            <div id="collapseTen" class="accordion-collapse collapse show" data-bs-parent="#accordionExample10">
                <div class="accordion-body">
                    <div class="row">
                        <div class="table-responsive">
                            <div class="card card-body m-3  p-3 mb-5 bg-white rounded " id="kt_chat_contacts_body"
                                style=" max-height: 270px; overflow-y: auto;overflow-x: hidden;">
                                <div class="me-n5 pe-5 h-300px h-lg-auto" data-kt-element="messages"
                                    data-kt-scroll="true" data-kt-scroll-activate="{default: false, lg: true}"
                                    data-kt-scroll-max-height="auto"
                                    data-kt-scroll-dependencies="#kt_header, #kt_app_header, #kt_app_toolbar, #kt_toolbar, #kt_footer, #kt_app_footer, #kt_chat_messenger_header, #kt_chat_messenger_footer"
                                    data-kt-scroll-wrappers="#kt_content, #kt_app_content, #kt_chat_messenger_body"
                                    data-kt-scroll-offset="5px">
                                    <div *ngFor="let data of Enquirylist;">
                                        <div>
                                            <div class="row">
                                                <div class="col-lg-6 col-md-6 col-sm-6">
                                                    <label><b>Enquiry Date</b></label>
                                                    <br />
                                                    <div>
                                                        <p>{{data.enquiry_date}}</p>
                                                    </div>
                                                </div>
                                                <div class="col-lg-6 col-md-6 col-sm-6">
                                                    <label><b>Enquiry Ref.No</b></label>
                                                    <br />
                                                    <div>
                                                        <p>{{data.enquiry_refno}}</p>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-lg-6 col-md-6 col-sm-6">
                                                    <label><b>Assigned To</b></label>
                                                    <br />
                                                    <div>
                                                        <p>{{data.user_firstname}}</p>
                                                    </div>
                                                </div>
                                                <div class="col-lg-6 col-md-6 col-sm-6">
                                                    <label><b>Enquiry Status</b></label>
                                                    <br />
                                                    <div>
                                                        <p>{{data.enquiry_status}}</p>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-lg-6 col-md-6 col-sm-6">
                                                    <label><b>Contact Details</b></label>
                                                    <br />
                                                    <div>
                                                        <p>{{data.contact_details}}</p>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-lg-5 col-md-3 col-sm-3">
                                                </div>
                                                <!-- <div class="col-lg-4 col-md-3 col-sm-3">
                                                    <h6 type="text" class="bg-white text-blue me-4 float-end"
                                                        (click)="raisequotations(data.enquiry_gid)"
                                                        style="cursor: pointer;">
                                                        Raise Quote
                                                    </h6>
                                                </div> -->
                                            </div>

                                        </div>
                                        <hr />
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- </div>
            </div> -->
        </div>
        <div class="col-lg-4 col-md-4 col-sm-4">
            <div class="card-header "
        style="background: rgb(81,183,204);
    background: linear-gradient(90deg, rgba(81,183,204,1) 0%, rgba(173,221,211,1) 35%, rgba(209,242,255,1) 100%);color:black;font-size: 14px;align-items: center;margin: 2px;">
        <b>Quotation</b>
                            <div *ngFor="let leadbasicdetailslist1 of leadbasicdetailslist" class="d-flex ms-auto">
                                <ng-container *ngIf="leadbasicdetailslist1.customer_gid === '' ">
                                    <button type="button" class="btn btn-sm text-white me-4"
                                        style="background-color: #097495;" data-bs-toggle="modal"
                                        data-bs-target="#myModalcustomerqotationmsg" title="Raise Quotation">
                                        <span style="font-size: 11px;"><i class="fas fa-plus"></i> &nbsp;<b>Raise Quotation</b></span>
                                    </button>
                                </ng-container>
                                <ng-container *ngIf="leadbasicdetailslist1.customer_gid !== '' ">
                                    <button type="button" class="btn btn-sm text-white me-4"
                                        style="background-color: #097495;" (click)="raisequotation()"
                                        title="Raise Quotation">
                                        <span style="font-size: 11px;"><i class="fas fa-plus"></i> &nbsp;<b>Raise Quotation</b></span>
                                    </button>
                                </ng-container>
                            </div>
                            <button class="btn dropdown-toggle fs-1" type="button" data-bs-toggle="collapse"
                            data-bs-target="#collapseFive" aria-expanded="true" aria-controls="collapseFive"></button>
                 </div>
                    <div id="collapseFive" class="accordion-collapse collapse show" data-bs-parent="#accordionExample5">
                        <div class="accordion-body">
                            <div class="row">
                                <div class="table-responsive">
                                    <div class="card card-body m-3  p-3 mb-5 bg-white rounded "
                                        id="kt_chat_contacts_body"
                                        style=" max-height: 270px; overflow-y: auto;overflow-x: hidden;">
                                        <div class="me-n5 pe-5 h-300px h-lg-auto" data-kt-element="messages"
                                            data-kt-scroll="true" data-kt-scroll-activate="{default: false, lg: true}"
                                            data-kt-scroll-max-height="auto"
                                            data-kt-scroll-dependencies="#kt_header, #kt_app_header, #kt_app_toolbar, #kt_toolbar, #kt_footer, #kt_app_footer, #kt_chat_messenger_header, #kt_chat_messenger_footer"
                                            data-kt-scroll-wrappers="#kt_content, #kt_app_content, #kt_chat_messenger_body"
                                            data-kt-scroll-offset="5px">
                                            <div *ngFor="let data of leadquotationdetails_list;">
                                                <div>
                                                    <div class="row">
                                                        <div class="col-lg-6 col-md-6 col-sm-6">
                                                            <label><b>Quotation Date</b></label>
                                                            <br />
                                                            <div>
                                                                <p>{{data.quotation_date}}</p>
                                                            </div>
                                                        </div>
                                                        <div class="col-lg-6 col-md-6 col-sm-6">
                                                            <label><b>Quotation Ref.No</b></label>
                                                            <br />
                                                            <div>
                                                                <p>{{data.quotation_referenceno1}}</p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-lg-6 col-md-6 col-sm-6">
                                                            <label><b>Contact Details</b></label>
                                                            <br />
                                                            <div>
                                                                <p>{{data.customer_contact_person}}</p>
                                                            </div>
                                                        </div>
                                                        <div class="col-lg-6 col-md-6 col-sm-6">
                                                            <label><b>Quotation Status</b></label>
                                                            <br />
                                                            <div>
                                                                <p>{{data.quotation_status}}</p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-lg-6 col-md-6 col-sm-6">
                                                            <label><b>Quotation Type</b></label>
                                                            <br />
                                                            <div>
                                                                <p>{{data.quotation_type}}</p>
                                                            </div>
                                                        </div>
                                                        <div class="col-lg-3 col-md-3 col-sm-3">
                                                            <label><b>Amount</b></label>
                                                            <br />
                                                            <div style="white-space: nowrap;text-align: right;">
                                                                <p>{{data.Grandtotal}}</p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                
                                                    <div class="row">
                                                        <div class="col-lg-5 col-md-3 col-sm-3">
                                                        </div>
                                                        <!-- <div class="col-lg-4 col-md-3 col-sm-3">
                                                            <h6 type="text" class="bg-white text-blue me-4 float-end"
                                                                (click)="raiseorders(data.quotation_gid)"
                                                                style="cursor: pointer;">
                                                                Raise Order
                                                            </h6>
                                                        </div> -->
                                                        <div class="col-lg-3 col-md-3 col-sm-3">
                                                            <h6 type="text" class="bg-white text-blue me-4 float-end"
                                                                (click)="viewquotation(data.quotation_gid)"
                                                                style="cursor: pointer;">
                                                                &nbsp;&nbsp;&nbsp;View
                                                            </h6>
                                                        </div>
                                                    </div>
                                                </div>
                                                <hr />
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>



        </div> 
        <div class="col-lg-4 col-md-4 col-sm-4">
            <div class="card-header "
            style="background: rgb(81,183,204);
        background: linear-gradient(90deg, rgba(81,183,204,1) 0%, rgba(173,221,211,1) 35%, rgba(209,242,255,1) 100%);color:black;font-size: 14px;align-items: center;margin: 2px;">
            <b>Order</b>
                            <div *ngFor="let leadbasicdetailslist1 of leadbasicdetailslist" class="d-flex ms-auto">
                                <ng-container *ngIf="leadbasicdetailslist1.customer_gid === '' ">
                                    <button type="button" class="btn btn-sm text-white me-4"
                                        style="background-color: #097495;" data-bs-toggle="modal"
                                        data-bs-target="#myModalcustomerordermsg" title="Raise Order">
                                        <span style="font-size: 11px;"><i class="fas fa-plus"></i> &nbsp;<b>Raise Order</b></span>
                                    </button>
                                </ng-container>
                                <ng-container *ngIf="leadbasicdetailslist1.customer_gid !== '' ">
                                    <button type="button" class="btn btn-sm text-white me-4"
                                        style="background-color: #097495;" (click)="raiseorder()"
                                        title="Raise Order">
                                        <span style="font-size: 11px;"><i class="fas fa-plus"></i> &nbsp;<b>Raise Order</b></span>
                                    </button>
                                </ng-container>
                            </div>
                            <button class="btn dropdown-toggle fs-1" type="button" data-bs-toggle="collapse"
                            data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne   "></button>
                 
                            </div>
                    <div id="collapseOne" class="accordion-collapse collapse show" data-bs-parent="#accordionExample">
                        <div class="accordion-body">
                        
                            <div class="row">
                                <div class="table-responsive">
                                    <div class="card card-body m-3  p-3 mb-5 bg-white rounded "
                                        id="kt_chat_contacts_body"
                                        style=" max-height: 270px; overflow-y: auto;overflow-x: hidden;">
                                        <div class="me-n5 pe-5 h-300px h-lg-auto" data-kt-element="messages"
                                            data-kt-scroll="true" data-kt-scroll-activate="{default: false, lg: true}"
                                            data-kt-scroll-max-height="auto"
                                            data-kt-scroll-dependencies="#kt_header, #kt_app_header, #kt_app_toolbar, #kt_toolbar, #kt_footer, #kt_app_footer, #kt_chat_messenger_header, #kt_chat_messenger_footer"
                                            data-kt-scroll-wrappers="#kt_content, #kt_app_content, #kt_chat_messenger_body"
                                            data-kt-scroll-offset="5px">
                                            <div *ngFor="let data of leadorderdetails_list;">
                                                <div>
                                                    <div class="row">
                                                        <div class="col-lg-6 col-md-6 col-sm-6">
                                                            <label><b>Raised On</b></label>
                                                            <br />
                                                            <div>
                                                                <p>{{data.salesorder_date}}</p>
                                                            </div>
                                                        </div>
                                                        <div class="col-lg-6 col-md-6 col-sm-6">
                                                            <label><b>Order Ref.No</b></label>
                                                            <br />
                                                            <div>
                                                                <p>{{data.so_referenceno1}}</p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-lg-6 col-md-6 col-sm-6">
                                                            <label><b>Contact Details</b></label>
                                                            <br />
                                                            <div>
                                                                <p>{{data.customer_contact_person}}</p>
                                                            </div>
                                                        </div>
                                                        <div class="col-lg-6 col-md-6 col-sm-6">
                                                            <label><b>Order Status</b></label>
                                                            <br />
                                                            <div>
                                                                <p>{{data.salesorder_status}}</p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-lg-3 col-md-3 col-sm-3">
                                                            <label><b>Amount</b></label>
                                                            <br />
                                                            <div style="white-space: nowrap;text-align: right;">
                                                                <p>{{data.Grandtotal}}</p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-lg-5 col-md-3 col-sm-3">
                                                        </div>
                                                        <div class="col-lg-4 col-md-3 col-sm-3">
                                                            <h6 type="text" class="bg-white text-blue me-4 float-end"
                                                                (click)="raisesalesinvoice(data.salesorder_gid)"
                                                                style="cursor: pointer;">
                                                                Raise Invoice
                                                            </h6>
                                                        </div>
                                                        <div class="col-lg-3 col-md-3 col-sm-3">
                                                            <h6 type="text" class="bg-white text-blue me-4 float-end"
                                                                (click)="vieworder(data.salesorder_gid)"
                                                                style="cursor: pointer;">
                                                                &nbsp;&nbsp;&nbsp;View
                                                            </h6>
                                                        </div>
                                                    </div>
                                                </div>
                                               
                                                <hr />
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
        </div>
    </div>
    <div class="row">
        <div class="col-lg-4 col-md-4 col-sm-4">
            <div class="card-header "
        style="background: rgb(81,183,204);
    background: linear-gradient(90deg, rgba(81,183,204,1) 0%, rgba(173,221,211,1) 35%, rgba(209,242,255,1) 100%);color:black;font-size: 14px;align-items: center;margin: 2px;">
        <b>Invoice</b>
                            <div *ngFor="let leadbasicdetailslist1 of leadbasicdetailslist" class="d-flex ms-auto">
                                <ng-container *ngIf="leadbasicdetailslist1.customer_gid === '' ">
                                    <button type="button" class="btn btn-sm text-white me-4"
                                        style="background-color: #097495;" data-bs-toggle="modal"
                                        data-bs-target="#myModalcustomerinvoicemsg" title="Raise Invoice">
                                        <span style="font-size: 11px;"><i class="fas fa-plus"></i> &nbsp;<b>Raise Invoice</b></span>
                                    </button>
                                </ng-container>
                                <ng-container *ngIf="leadbasicdetailslist1.customer_gid !== '' ">

                                    <button type="button" class="btn btn-sm text-white me-4" (click)="raiseinvoice()"
                                        style="background-color: #097495;" title="Raise Invoice">
                                        <span style="font-size: 11px;"><i class="fas fa-plus"></i> &nbsp;<b>Raise Invoice</b></span>
                                    </button>
                                </ng-container>
                            </div>
                            <button class="btn dropdown-toggle fs-1" type="button" data-bs-toggle="collapse"
                            data-bs-target="#collapseTwo" aria-expanded="true" aria-controls="collapseTwo   "></button>
                 
                       </div>
                    <div id="collapseTwo" class="accordion-collapse collapse show" data-bs-parent="#accordionExample2">
                        <div class="accordion-body">
                            <div class="row">
                                <div class="col-lg-6 col-md-6 col-sm-6">
                                    <!-- <button type="button" class="btn-primary btn-sm text-white me-4"
                                        title="Raise Order">
                                    <i class="fas fa-plus"></i> &nbsp; Raise Invoice
                                </button><br /> -->
                                </div>
                            </div>
                            <div class="row">
                                <div class="table-responsive">
                                    <div class="card card-body m-3  p-3 mb-5 bg-white rounded "
                                        id="kt_chat_contacts_body"
                                        style=" max-height: 365px; overflow-y: auto;overflow-x: hidden;">
                                        <div class="me-n5 pe-5 h-300px h-lg-auto" data-kt-element="messages"
                                            data-kt-scroll="true" data-kt-scroll-activate="{default: false, lg: true}"
                                            data-kt-scroll-max-height="auto"
                                            data-kt-scroll-dependencies="#kt_header, #kt_app_header, #kt_app_toolbar, #kt_toolbar, #kt_footer, #kt_app_footer, #kt_chat_messenger_header, #kt_chat_messenger_footer"
                                            data-kt-scroll-wrappers="#kt_content, #kt_app_content, #kt_chat_messenger_body"
                                            data-kt-scroll-offset="5px">
                                            <div *ngFor="let data of leadinvoicedetails_list;">
                                                <div>
                                                    <div class="row">
                                                        <div class="col-lg-6 col-md-6 col-sm-6">
                                                            <label><b>SO Ref.No</b></label>
                                                            <br />
                                                            <div>
                                                                <p>{{data.so_referencenumber}}</p>
                                                            </div>
                                                        </div>
                                                        <div class="col-lg-6 col-md-6 col-sm-6">
                                                            <label><b>Invoice Date</b></label>
                                                            <br />
                                                            <div>
                                                                <p>{{data.invoice_date}}</p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-lg-6 col-md-6 col-sm-6">
                                                            <label><b>Invoice Ref.No</b></label>
                                                            <br />
                                                            <div>
                                                                <p>{{data.invoice_refno}}</p>
                                                            </div>
                                                        </div>
                                                        <div class="col-lg-6 col-md-6 col-sm-6">
                                                            <label><b>Invoice Status</b></label>
                                                            <br />
                                                            <div>
                                                                <p>{{data.invoice_status}}</p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-lg-6 col-md-6 col-sm-6">
                                                            <label><b>Invoice From</b></label>
                                                            <br />
                                                            <div>
                                                                <p>{{data.invoice_from}}</p>
                                                            </div>
                                                        </div>
                                                        <div class="col-lg-6 col-md-6 col-sm-6">
                                                            <label><b>Mail Status</b></label>
                                                            <br />
                                                            <div>
                                                                <p>{{data.mail_status}}</p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-lg-4 col-md-4 col-sm-4">
                                                            <label><b>Invoice Amount</b></label>
                                                            <br />
                                                            <div style="white-space: nowrap;text-align: right;">
                                                                <p>{{data.invoice_amount}}</p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-lg-5 col-md-3 col-sm-3">
                                                        </div>
                                                        <!-- <div class="col-lg-4 col-md-3 col-sm-3">
                                                            <h6 type="text" class="bg-white text-blue me-4 float-end"
                                                                (click)="raisepayment(data.invoice_gid)"
                                                                style="cursor: pointer;">
                                                                Payment
                                                            </h6>
                                                        </div> -->
                                                        <div class="col-lg-3 col-md-3 col-sm-3">
                                                            <h6 type="text" class="bg-white text-blue me-4 float-end"
                                                                (click)="viewinvoice(data.invoice_gid)"
                                                                style="cursor: pointer;">
                                                                View
                                                            </h6>
                                                        </div>
                                                    </div>
                                                </div>
                                                <hr />
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
        </div>
        <div class="col-lg-4 col-md-4 col-sm-4">
            <div class="card-header "
            style="background: rgb(81,183,204);
        background: linear-gradient(90deg, rgba(81,183,204,1) 0%, rgba(173,221,211,1) 35%, rgba(209,242,255,1) 100%);color:black;font-size: 14px;align-items: center;margin: 2px;">
            <b>Notes</b>
            <button class="btn dropdown-toggle fs-1" type="button" data-bs-toggle="collapse"
            data-bs-target="#collapsesix" aria-expanded="true" aria-controls="collapsesix"></button>
            </div>
                    <div id="collapsesix" class="accordion-collapse collapse show" data-bs-parent="#accordionExample6">
                        <div class="accordion-body">
                            <div class="row" style="margin-left: -34px;">
                                <div id="kt_app_content" class="app-content flex-column-fluid"
                                    style="max-height: 400px;">
                                    <div id="kt_app_content_container" class="app-container container-xxl"
                                        style="margin-top: -30px;">
                                        <div class="d-flex flex-column flex-lg-row">
                                            <div class="flex-lg-row-fluid ms-lg-7 ms-xl-5">
                                                <form [formGroup]="NotesreactiveForm" #form="ngForm">
                                                    <div class="row">
                                                        <div class="col-12 col-lg-12 col-md-12 col-sm-12">
                                                            <div>
                                                                <textarea class="form-control" pattern="^(?!\s*$).+"
                                                                    id="internalnotestextarea" rows="17"
                                                                    style="overflow-y: scroll;"
                                                                    formControlName="internalnotestext_area" class="
                                                                        form-control form-control-lg form-control-solid
                                                                        custom-input
                                                                        mb-3 mb-lg-0
                                                                        bg-white
                                                                        custom-input" name="internalnotestext_area">
                                                                        {{txtinternal_notes}}</textarea>
                                                                <div class="text-center my-4">
                                                                    <br />
                                                                    <button class="btn-success btn-sm text-white me-4"
                                                                        (click)="Update()">
                                                                        <i class="fas fa-check text-white fs-5 "></i>
                                                                        &nbsp;Update
                                                                    </button>
                                                                    <br />
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </form>
                                            </div>
                                        </div>

                                    </div>
                                    <!--center nav -->
                                </div>
                            </div>
                        </div>
                    </div>
               
        </div>
        <div class="col-lg-4 col-md-4 col-sm-4">
            <div class="card-header "
        style="background: rgb(81,183,204);
    background: linear-gradient(90deg, rgba(81,183,204,1) 0%, rgba(173,221,211,1) 35%, rgba(209,242,255,1) 100%);color:black;font-size: 14px;align-items: center;margin: 2px;">
        <b>Documents</b>
        <button class="btn dropdown-toggle fs-1" type="button" data-bs-toggle="collapse"
        data-bs-target="#collapseseven" aria-expanded="true" aria-controls="collapseseven"></button>
        </div>
                    <div id="collapseseven" class="accordion-collapse collapse show"
                        data-bs-parent="#accordionExample7">
                        <div class="accordion-body">
                            <button type="button" class="btn-success btn-sm text-white me-4 ms-3" data-bs-toggle="modal"
                                data-bs-target="#myModalUpdateimage" title="Upload image">
                                <i class="fa-solid fa-upload"></i> &nbsp; Upload
                            </button><br />
                            <div class="card card-body m-3  p-3 mb-5 bg-white rounded " id="kt_chat_contacts_body"
                                style=" max-height: 350px; overflow-y: auto;overflow-x: hidden;">
                                <div class="me-n5 pe-5 h-300px h-lg-auto" data-kt-element="messages"
                                    data-kt-scroll="true" data-kt-scroll-activate="{default: false, lg: true}"
                                    data-kt-scroll-max-height="auto"
                                    data-kt-scroll-dependencies="#kt_header, #kt_app_header, #kt_app_toolbar, #kt_toolbar, #kt_footer, #kt_app_footer, #kt_chat_messenger_header, #kt_chat_messenger_footer"
                                    data-kt-scroll-wrappers="#kt_content, #kt_app_content, #kt_chat_messenger_body"
                                    data-kt-scroll-offset="5px">
                                    <div *ngFor="let doctitlelist of leaddocumentdetail_list;">
                                        <div>
                                            <div class="row">
                                                <div class="col-lg-6 col-md-8 col-sm-8">
                                                    <label><b>Document Title</b></label>
                                                    <br />
                                                    <div>
                                                        <p>{{doctitlelist.document_title}}</p>
                                                    </div>
                                                </div>
                                                <div class="col-lg-4 col-md-4 col-sm-4">
                                                    <label><b>Uploaded Date</b></label>
                                                    <br />
                                                    <div>
                                                        <p>{{doctitlelist.created_date}}</p>
                                                    </div>
                                                </div>
                                                <div class="col-lg-2 col-md-2 col-sm-2">
                                                    <button title="Download" type="button"
                                                        style="width: 10px; display: flex; justify-content: center; align-items: center;"
                                                        (click)="downloadImage(doctitlelist)"
                                                        class="btn download-button">
                                                        <span class="fa-solid fa-download text-white fs-4"
                                                            style="color: #097495;"></span>
                                                    </button>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-lg-12 col-md-12 col-sm-12">
                                                    <label><b>Remarks</b></label>
                                                    <br />
                                                    <div>
                                                        <p>{{doctitlelist.remarks}}</p>
                                                    </div>
                                                </div>
                                            </div><br>

                                        </div>
                                        <hr />
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>               
        </div>
    </div>
    <br />
    <!-- schedule -->
    <div class="row">
        <div class="col-lg-12 col-md-12 col-sm-12">
            <div class="card-header "
        style="background: rgb(81,183,204);
    background: linear-gradient(90deg, rgba(81,183,204,1) 0%, rgba(173,221,211,1) 35%, rgba(209,242,255,1) 100%);color:black;font-size: 14px;align-items: center;margin: 2px;">
        <b>Shedule Lead</b>
                            <button class="btn dropdown-toggle fs-1" type="button" data-bs-toggle="collapse"
                            data-bs-target="#collapseeight" aria-expanded="true" aria-controls="collapseeight"></button>
                 
                       </div>
                    <div id="collapseeight" class="accordion-collapse collapse show"
                        data-bs-parent="#accordionExample8">
                        <div class="accordion-body">

                            <tabset>
                                <tab heading="Schedule">
                                    <form [formGroup]="reactiveFormfollow" #form="ngForm">
                                        <div class="row">
                                            <div class="col-lg-4 col-md-4 col-sm-4 fv-row mt-2">
                                                <span class="font-bold ms-2"><b>Schedule Date</b><span
                                                        class="ms-1 text-red">*</span></span>
                                                <div class="col-xl-12 col-md-12 col-sm-12 fv-row mt-2 d-flex ms-2">
                                                    <input formControlName="schedule_date" type="date" class="
                                                         form-control form-control-lg form-control-solid
                                                         custom-input
                                                         mb-3 mb-lg-0
                                                         bg-white
                                                         custom-input date-picker borderc-secondary
                                                       " [ngStyle]="{
                                                         'border-color':
                                                         schedule_date.invalid && schedule_date.touched
                                                             ? 'red'
                                                             : 'rgb(209, 209, 209)'
                                                       }" placeholder="" pattern="^(?!\s*$).+" name="schedule_date"
                                                        required />
                                                </div>

                                                <div
                                                    *ngIf="schedule_date.invalid && (schedule_date.dirty || schedule_date.touched)">
                                                    <div *ngIf="schedule_date.errors?.['required']">
                                                        <span style="color:red;">Schedule Date Is Required.</span>
                                                    </div>
                                                </div>
                                            </div>
                                            <br>

                                            <div class="col-lg-4 col-md-4 col-sm-4 fv-row mt-2">
                                                <span class="font-bold"><b>Time</b><span
                                                        class="ms-1 text-red">*</span></span>
                                                <div class="col-lg-12 col-md-12 col-sm-12 fv-row mt-2 d-flex ">
                                                    <input formControlName="schedule_time" type="time" class="
                                                 form-control form-control-lg form-control-solid
                                                 custom-input
                                                 mb-3 mb-lg-0
                                                 bg-white
                                                 custom-input
                                               " [ngStyle]="{
                                                 'border-color':
                                                 schedule_time.invalid && schedule_time.touched? 
                                                 'red'
                                                     : 'rgb(209, 209, 209)'
                                               }" placeholder="" pattern="^(?!\s*$).+" name="schedule_time" required />
                                                </div>

                                                <div
                                                    *ngIf="schedule_time.invalid && (schedule_time.dirty || schedule_time.touched)">
                                                    <div *ngIf="schedule_time.errors?.['required']">
                                                        <span style="color:red;">Schedule Time Is Required.</span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-4 col-md-4 col-sm-4 fv-row mt-2">
                                                <span class="font-bold"><b>Type</b><span
                                                        style="color: red;">*</span></span>
                                                <div>
                                                    <ng-select formControlName="schedule_type" style="width:99%;"
                                                        [items]="ScheduleType" required
                                                        class="custom col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2"
                                                        bindLabel="type" bindValue="type" [clearable]="false"
                                                        placeholder="--Select Type--"></ng-select>
                                                </div>
                                            </div>
                                        </div>
                                        <br>
                                        <div class="row">
                                           
                                            <div class="col-lg-12 col-md-12 col-sm-12 fv-row mt-2">
                                                <label for="exampleFormControlTextarea1" class="form-label ms-2"><b>
                                                        Remarks</b></label>
                                                <br>
                                                <textarea style="resize: none;width: 99%;" class="form-control ms-2" 
                                                    formControlName="schedule_remarks" pattern="^(?!\s*$).+"
                                                    placeholder="Enter Schedule Remarks"
                                                    id="exampleFormControlTextarea1" rows="3"></textarea>
                                            </div>
                                        </div>
                                        <br>
                                        <div class="text-center my-2">
                                            <button (click)="schedule()" [disabled]="reactiveFormfollow.invalid"
                                                [ngClass]="{
                                                                    'primary-button': !reactiveFormfollow.invalid,
                                                                    'secondary-button': reactiveFormfollow.invalid
                                                                     }" data-bs-dismiss="modal">
                                                <i class="fas fa-check text-white fs-5 "></i> &nbsp;Schedule
                                            </button> &nbsp;&nbsp;
                                            <!-- <button (click)="onclose()" class="btn-danger btn-sm text-white me-4"
                                                data-bs-dismiss="modal">
                                                <i class="fas fa-close text-white"></i> &nbsp;Cancel
                                            </button> -->
                                        </div>
                                    </form>
                                </tab>
                                <tab heading="Log Details">
                                    <div class="log-details-tab-content">
                                        <div class="col-12 col-lg-3 col-md-6 col-lg-12">
                                            <div *ngFor="let schedule of schedulesummary_list; let i = index">
                                                <ng-container *ngIf="schedule.leadbank_gid === '' "> 
                                                  <div class="text-center">
                                                      <h3> No Log Details Found </h3>
                                                  </div>
                                                    </ng-container>  
                                                    <ng-container *ngIf="schedule.leadbank_gid !== '' ">
                                                <span class="fw-bold" style="font-size: small;" *ngIf="i === 0">
                                                    <br>
                                                    <b>Schedule Log Details
                                                    </b></span><br>
                                                <div style="margin-bottom: 5px; padding: 5px; overflow-y: auto; max-height: 300px;"
                                                    class="panel bg-white">
                                                    {{schedule.log_legend}}
                                                    <div style="margin-bottom: 3px; margin-top: 2px;">
                                                        <div class="row">
                                                            <div class="panel-body" style="font-size: x-small;">{{
                                                                schedule.log_details }}</div>
                                                        </div>
                                                    </div>
                                                    <!-- Add a horizontal line after each schedule log -->
                                                    <hr style="margin-top: 5px; margin-bottom: 5px;">
                                                </div>
                                                </ng-container>
                                            </div>
                                        </div>
                                    </div>
                                </tab>
                            </tabset>
                        </div>
                    </div>
        </div>
    </div>
    <br>
    <div class="row">
        <div class="text-center my-2">
            <div class="btn-group">
                <button type="button" class="btn back-button text-white" (click)="onback()">  <i class="ki-duotone ki-entrance-right fs-5">
                    <i class="path1"></i>
                    <i class="path2"></i>
                </i>&nbsp;Back</button>
            </div>
        </div>
    </div>
    <br />
    <!-- The Modal ADD -->
</div>

<!-- Filter dropdown -->
<form [formGroup]="reactiveForm" #form="ngForm">
    <div class="modal" id="mydropdown" data-bs-backdrop="static" data-bs-keyboard="false">
        <div class="modal-dialog" style="max-width: 250px; max-height: 600px; margin-top: 100px;">
            <div class="modal-content">
                <!-- Modal Header -->
                <div class="card-header p-1 pb-2 pt-1 rounded-top bg-white"
                    style="border-bottom: 1px solid rgb(173, 173, 173);">
                    <h2 style="margin-top:10px;color:rgb(3, 2, 2);font-weight: bold;">
                        &nbsp;&nbsp;Filter Options
                    </h2>
                </div>
                <!-- Modal body -->
                <div class="modal-body">
                    <div class="row">
                        <span class="font-bold"><b>Status</b></span>
                        <ng-select style="width: 100%;" formControlName="moving_stage"
                            class="custom col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2" placeholder="Select option">
                            <ng-option value="1">New</ng-option>
                            <ng-option value="3">Prospect</ng-option>
                            <ng-option value="4">Potential</ng-option>
                            <ng-option value="5">Drop</ng-option>
                            <ng-option value="6">Customer</ng-option>
                        </ng-select>
                    </div>
                    <br />
                    <div class="col-lg-12 col-md-12 col-sm-12 fv-row mt-2 d-flex ">
                        <div class="col-lg-6 col-md-6 col-sm-6 fv-row mt-2">
                            <span class="font-bold"><b>View Type</b></span>
                            <div class="d-flex justify-content-start mt-4 ms-2">
                                <div class="
                              form-check
                              form-check-custom
                              form-check-primary
                              form-check-solid
                              form-check-sm
                            ">
                                    <input class="form-check-input" type="radio" name="contact" checked="checked"
                                        formControlName="contact" value="all_contact" />
                                    <label class="form-check-label text-gray-700 text-nowrap"
                                        for="kt_builder_header_content_menu">All Contacts</label>
                                </div>
                                <div class="
                              form-check
                              form-check-custom
                              form-check-primary
                              form-check-solid
                              form-check-sm
                              ms-10
                            ">
                                    <input class="form-check-input" type="radio" name="contact"
                                        formControlName="contact" value="my_contact" />
                                    <label class="form-check-label text-gray-700 text-nowrap"
                                        for="kt_builder_header_content_page-title">My Contact</label>
                                </div>
                            </div>
                        </div>
                        <br>
                    </div>
                    <br /><br />
                    <div class="text-center my-4">
                        <button [ngClass]="{
                'primary-button': !reactiveForm.invalid,
                'secondary-button': reactiveForm.invalid
              }" data-bs-dismiss="modal" class="btn-send">
                            <i class="fas fa-check text-white fs-5 "></i> &nbsp;Apply
                        </button> &nbsp;&nbsp;
                        <button class="btn-danger btn-sm text-white me-4" (click)="onclose()" data-bs-dismiss="modal">
                            Cancel
                        </button>
                    </div>

                </div>
            </div>
        </div>
    </div>
</form>
<!-- <form [formGroup]="reactiveForm" #form="ngForm">

    <div class="modal" id="myModalcreatecontact" data-bs-backdrop="static" data-bs-keyboard="false">
        <div class="modal-dialog">
            <div class="modal-content">
                <div *ngFor="let data of whatsapp_list; let i=index;">
                    <div class="card-header p-1 pb-2 pt-1 rounded-top btn-send">
                        <h2 style="margin-top:10px;color:white;font-weight: bold;">&nbsp;&nbsp;Create new
                            contact</h2>
                    </div>
                    <div class="modal-body">
                        <div class="row"><span class="font-bold"><b>Display Name</b>
                                <span class="ms-1 text-red">*</span></span>
                            <div class="col-lg-12 col-md-12 col-sm-12 fv-row mt-2 d-flex ">
                                <input formControlName="displayName" type="text" class="
                     form-control form-control-lg form-control-solid
                     custom-input
                     mb-3 mb-lg-0
                     bg-white
                     custom-input
                   " [ngStyle]="{
                     'border-color':
                     displayName.invalid && displayName.touched
                         ? 'red'
                         : 'rgb(209, 209, 209)'
                   }" placeholder="" pattern="^(?!\s*$).+" name="displayName" required />
                            </div>
                        </div>
                        <div *ngIf="displayName.invalid && (displayName.dirty || displayName.touched)">
                            <div *ngIf="displayName.errors?.['required']">
                                <span style="color:red;">Document title is required.</span>
                            </div>
                        </div>

                        <div *ngIf="displayName.invalid && (displayName.dirty || displayName.touched)">
                            <div *ngIf="displayName.errors?.['pattern']">
                                <span style="color:red;">Invalid Format</span>
                            </div>
                        </div>
                        <br>

                        <div class="form-group">
                            <div class="row"> <span class="font-bold"><b>Mobile Number</b>
                                    <span class="ms-1 text-red">*</span></span>
                                <div class="col-lg-12 col-md-12 col-sm-12 fv-row mt-2 d-flex ">
                                    <ngx-intl-tel-input [cssClass]="'form-control'"
                                        [preferredCountries]="[CountryISO.UnitedKingdom]"
                                        [enableAutoCountrySelect]="true" [enablePlaceholder]="true"
                                        [searchCountryFlag]="true"
                                        [searchCountryField]="[SearchCountryField.Iso2, SearchCountryField.Name]"
                                        [selectedCountryISO]="CountryISO.UnitedKingdom" [phoneValidation]="true"
                                        name="phone" [maxLength]="15" formControlName="phone">
                                    </ngx-intl-tel-input>
                                </div>
                            </div>
                        </div>

                        <div class="text-center my-4">
                            <button (click)="onsubmit(data.leadbank_gid)" [ngClass]="{
                'primary-button': !reactiveForm.invalid,
                'secondary-button': reactiveForm.invalid
              }" data-bs-dismiss="modal" class="btn-send">
                                <i class="fas fa-check text-white fs-5 "></i> &nbsp;Submit
                            </button> &nbsp;&nbsp;
                            <button class="btn-danger btn-sm text-white me-4" (click)="onclose()"
                                data-bs-dismiss="modal">
                                Cancel
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</form> -->
<form [formGroup]="NotesreactiveForm" #form="ngForm">
    <div class="modal" id="myModalUpdateimage" data-bs-backdrop="static" data-bs-keyboard="false">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">

                <!-- Modal Header -->

                <div class="card-header p-1 pb-2 pt-1 rounded-top bg-primary">
                    <h2 style="margin-top:10px;color:white;font-weight: bold;">&nbsp;&nbsp;<i
                            class="fa-solid fa-upload fw-bolder fs-3"></i> &nbsp;&nbsp;Upload Document</h2>

                </div>

                <!-- Modal body -->
                <div class="modal-body">
                    <div class="row"><span class="font-bold"><b>Document Title</b>
                            <span class="ms-1 text-red">*</span></span>
                        <div class="col-lg-11 col-md-12 col-sm-12 fv-row mt-2 d-flex ">
                            <input formControlName="document_title" type="text" class="
                         form-control form-control-lg form-control-solid
                         custom-input
                         mb-3 mb-lg-0
                         bg-white
                         custom-input
                       " [ngStyle]="{
                         'border-color':
                         document_title.invalid && document_title.touched
                             ? 'red'
                             : 'rgb(209, 209, 209)'
                       }" placeholder="" pattern="^(?!\s*$).+" name="document_title" required />
                        </div>
                    </div>
                    <div *ngIf="document_title.invalid && (document_title.dirty || document_title.touched)">
                        <div *ngIf="document_title.errors?.['required']">
                            <span style="color:red;">Document title is required.</span>
                        </div>
                    </div>

                    <div *ngIf="document_title.invalid && (document_title.dirty || document_title.touched)">
                        <div *ngIf="document_title.errors?.['pattern']">
                            <span style="color:red;">Invalid Format</span>
                        </div>
                    </div>
                    <br />
                    <div class="row">
                        <div class="col-12 col-lg-12 col-md-6 col-sm-12">
                            <span class="font-bold">Remarks</span>
                            <div class="col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2">
                                <textarea class="form-control" formControlName="remarks" pattern="^(?!\s*$).+"
                                    id="exampleFormControlTextarea1" rows="2" style="overflow-y: scroll;"></textarea>
                            </div>
                        </div>

                    </div>
                    <br />
                    <div class="col-12 col-lg-4 col-md-6 col-sm-12">
                        <span class="font-bold"><b>Upload Document</b><span class="ms-1 text-red">*</span></span>
                        <div class="col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2">
                            <input style="width: 300%;" (change)="ondocChange2($event)" type="file" #fileInput class="
                                  form-control form-control-lg form-control-solid bg-white
                                  mb-3 mb-lg-0  borderc-secondary custom-input
                                " name="fName" />
                        </div>
                    </div>
                    <br>
                    <!-- Modal footer -->
                    <div class="text-center my-4">
                        <button type="submit" class="btn-success btn-sm text-white me-2" data-bs-dismiss="modal"
                            (click)="ondocumentsubmit()">
                            <i class="fa-solid fa-check fs-5 "></i>&nbsp;Submit</button>
                        <button class="btn-primary btn-sm text-white me-2" data-bs-dismiss="modal">
                            <i class="fas fa-arrow-left"></i> &nbsp;Back
                        </button>
                    </div>

                </div>
            </div>
        </div>
    </div>
</form>
<form [formGroup]="reactiveForm" #form="ngForm">
    <div class="modal" id="myModaldocument" data-bs-backdrop="static" data-bs-keyboard="false">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">

                <!-- Modal Header -->

                <div class="card-header p-1 pb-2 pt-1 rounded-top btn-send">
                    <h2 style="margin-top:10px;color:white;font-weight: bold;">&nbsp;&nbsp;<i
                            class="fa-solid fa-upload fs-default-icon"></i> &nbsp;&nbsp;Upload Document</h2>
                </div>

                <!-- Modal body -->
                <div class="modal-body">
                    <div class="col-12 col-lg-4 col-md-6 col-sm-12">
                        <span class="font-bold"><b>Upload Document</b><span class="ms-1 text-red">*</span></span>
                        <div class="col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2">
                            <input style="width: 300%;" (change)="onChange1($event)" type="file" #fileInput class="
                          form-control form-control-lg form-control-solid bg-white
                          mb-3 mb-lg-0  borderc-secondary custom-input
                        " name="fName" />

                        </div>
                    </div>
                    <br>
                    <div class="text-center my-4">
                        <div *ngFor="let data of whatsappmessage_list; let i=index;">
                            <button type="submit" title="Send" class="btn-success btn-sm text-white me-2"
                                data-bs-dismiss="modal" (click)="onupload(data.contact_id)" *ngIf="i === 0">
                                <i class="fas fa-paper-plane fs-3"></i>&nbsp;&nbsp;Send</button>


                            <button title="Back" class="btn-primary btn-sm text-white me-2" data-bs-dismiss="modal"
                                *ngIf="i === 0">
                                <i class="fas fa-arrow-left"></i> &nbsp;&nbsp;Back
                            </button>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
</form>
<form [formGroup]="reactiveForm" #form="ngForm">
    <div class="modal" id="myModalimage" data-bs-backdrop="static" data-bs-keyboard="false">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">

                <!-- Modal Header -->

                <div class="card-header p-1 pb-2 pt-1 rounded-top btn-send">
                    <h2 style="margin-top:10px;color:white;font-weight: bold;">&nbsp;&nbsp;<i
                            class="fa-solid fa-upload fs-default-icon"></i> &nbsp;&nbsp;Upload Image</h2>

                </div>

                <!-- Modal body -->
                <div class="modal-body">
                    <div class="col-12 col-lg-4 col-md-6 col-sm-12">
                        <span class="font-bold"><b>Upload Image</b><span class="ms-1 text-red">*</span></span>
                        <div class="col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2">
                            <input style="width: 300%;" (change)="onChange4($event)" accept="image/*" type="file"
                                #fileInput class="
                              form-control form-control-lg form-control-solid bg-white
                              mb-3 mb-lg-0  borderc-secondary custom-input
                            " name="fName" />

                        </div>
                    </div>
                    <br>
                    <!-- Modal footer -->
                    <div class="text-center my-4">
                        <div *ngFor="let data of whatsappmessage_list; let i=index;">
                            <button type="submit" title="Send" class="btn-success btn-sm text-white me-2"
                                (click)="onupload(data.contact_id)" data-bs-dismiss="modal" *ngIf="i === 0">
                                <i class="fas fa-paper-plane fs-3"></i>&nbsp;&nbsp;Send</button>
                            <button title="Back" class="btn-primary btn-sm text-white me-2" data-bs-dismiss="modal"
                                *ngIf="i === 0">
                                <i class="fas fa-arrow-left"></i> &nbsp;&nbsp;Back
                            </button>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</form>


<!--Add to customer popup-->
<div class="modal" id="myModaladdtocustomer" data-bs-backdrop="static" data-bs-keyboard="false">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="text-center my-4">
                <h2><b>Are you sure?</b></h2>
                <br>
                <p style="display: block; font-size:small;">Check to make sure that you have filled out all the
                    required
                    fields
                    correctly.</p><br>
                <br>
                <div class="text-center my-4">
                    <button class="btn-success btn-sm text-white me-4" (click)="onaddtocustomer()"
                        data-bs-dismiss="modal">
                        <i class="fas fa-check text-white fs-5"></i>&nbsp;Yes
                    </button>
                    <button class="btn-primary btn-sm text-white me-2" data-bs-dismiss="modal">
                        <i class="fas fa-close text-white"></i> &nbsp;Close
                    </button>&nbsp;

                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal" id="myModalalreadycustomer" data-bs-backdrop="static" data-bs-keyboard="false">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="text-center my-4">
                <h2><b>Lead already added as Customer</b></h2>
                <div class="text-center my-4">
                    <button class="btn-primary btn-sm text-white me-2" data-bs-dismiss="modal">
                        <i class="fas fa-close text-white"></i> &nbsp;Close
                    </button>&nbsp;
                </div>
            </div>
        </div>
    </div>
</div>
<!---Price Segment Notification-->
<div class="modal" id="myModalpricesegmentmsg" data-bs-backdrop="static" data-bs-keyboard="false">
    <div class="modal-dialog modal-dialog-centered modal-sm">
        <div class="modal-content">
            <div class="modal-body">
                <!-- <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"
                    style="position: absolute; top: 5; right: 5px;"></button> -->
                <div class="text-center my-4">
                    <h4> Add to customer , to Raise Price Segment
                    </h4>
                </div>
                <div class="text-center my-4">
                    <button class="btn-primary btn-sm text-white me-5" data-bs-dismiss="modal">
                        <i class="fas fa-close text-white"></i> &nbsp;Close
                    </button>&nbsp;
                </div>
            </div>
        </div>
    </div>
</div>

<!--Enquiry notification-->
<div class="modal" id="myModalcustomermsg" data-bs-backdrop="static" data-bs-keyboard="false">
    <div class="modal-dialog modal-dialog-centered modal-sm">
        <div class="modal-content">
            <div class="modal-body">
                <!-- <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"
                    style="position: absolute; top: 5; right: 5px;"></button> -->
                <div class="text-center my-4">
                    <h4> Add to customer ,to Raise Enquiry.

                    </h4>
                </div>
                <div class="text-center my-4">
                    <button class="btn-primary btn-sm text-white me-5" data-bs-dismiss="modal">
                        <i class="fas fa-close text-white"></i> &nbsp;Close
                    </button>&nbsp;
                </div>
            </div>
        </div>
    </div>
</div>

<!--Quotation notification-->
<div class="modal" id="myModalcustomerqotationmsg" data-bs-backdrop="static" data-bs-keyboard="false">
    <div class="modal-dialog modal-dialog-centered modal-sm">
        <div class="modal-content">
            <div class="modal-body">

                <div class="text-center my-4">
                    <h4> Add to customer, to Raise Quotation.</h4>
                </div>
                <div class="text-center my-4">
                    <button class="btn-primary btn-sm text-white me-5" data-bs-dismiss="modal">
                        <i class="fas fa-close text-white"></i> &nbsp;Close
                    </button>&nbsp;
                </div>
            </div>
        </div>
    </div>
</div>


<!--Order notification-->
<div class="modal" id="myModalcustomerordermsg" data-bs-backdrop="static" data-bs-keyboard="false">
    <div class="modal-dialog modal-dialog-centered modal-sm">
        <div class="modal-content">
            <div class="modal-body">
                <div class="text-center my-4">

                    <h4> Add To Customer, to Raise Order.</h4>
                </div>
                <div class="text-center my-4">
                    <button class="btn-primary btn-sm text-white me-2" data-bs-dismiss="modal">
                        <i class="fas fa-close text-white"></i> &nbsp;Close
                    </button>&nbsp;
                </div>
            </div>
        </div>
    </div>
</div>
<!--Invoice notification-->
<div class="modal" id="myModalcustomerinvoicemsg" data-bs-backdrop="static" data-bs-keyboard="false">
    <div class="modal-dialog modal-dialog-centered modal-sm">
        <div class="modal-content">
            <div class="modal-body">
                <div class="text-center my-4">

                    <h4>Add to customer, to Raise Invoice.</h4>
                </div>
                <div class="text-center my-4">
                    <button class="btn-primary btn-sm text-white me-2" data-bs-dismiss="modal">
                        <i class="fas fa-close text-white"></i> &nbsp;Close
                    </button>&nbsp;
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Edit contact -->
<form [formGroup]="reactiveForm" #form="ngForm">

    <div class="modal" id="myModaleditcontact" data-bs-backdrop="static" data-bs-keyboard="false">
        <div class="modal-dialog">
            <div class="modal-content">
                <!-- Modal Header -->

                <div class="card-header p-1 pb-2 pt-1 rounded-top"
                    style="background: rgb(81,183,204);
                background: linear-gradient(90deg, rgba(81,183,204,1) 0%, rgba(173,221,211,1) 35%, rgba(209,242,255,1) 100%);color:black;font-size: 14px;height:40px;padding-top: 12px;padding-left: 8px;">
                    <h2 style="margin-top:10px;color:white;font-weight: bold;">
                        <i class="fas fa-pencil fw-bolder fs-3" style="margin-left: 10px;"></i>&nbsp;&nbsp;Edit
                        Contact
                    </h2>
                </div>
                <!-- Modal body -->
                <div class="modal-body">
                    <div class="row">
                        <span class="font-bold"><b>Contact Person Name</b>
                            <span class="ms-1 text-red">*</span></span>
                        <div class="col-lg-12 col-md-12 col-sm-12 fv-row mt-2 d-flex ">
                            <input formControlName="displayName" type="text" class="
                     form-control form-control-lg form-control-solid
                     custom-input
                     mb-3 mb-lg-0
                     bg-white
                     custom-input
                   " [ngStyle]="{
                     'border-color':
                     displayName.invalid && displayName.touched
                         ? 'red'
                         : 'rgb(209, 209, 209)'
                   }" placeholder="" pattern="^(?!\s*$).+" name="displayName" required />
                        </div>
                    </div>
                    <div *ngIf="displayName.invalid && (displayName.dirty || displayName.touched)">
                        <div *ngIf="displayName.errors?.['required']">
                            <span style="color:red;">Contact person name is required.</span>
                        </div>
                    </div>

                    <div *ngIf="displayName.invalid && (displayName.dirty || displayName.touched)">
                        <div *ngIf="displayName.errors?.['pattern']">
                            <span style="color:red;">Invalid Format</span>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="row"> <span class="font-bold"><b>Mobile Number</b>
                                <span class="ms-1 text-red">*</span></span>
                            <div class="col-lg-12 col-md-12 col-sm-12 fv-row mt-2 d-flex ">
                                <ngx-intl-tel-input [cssClass]="'form-control'"
                                    [preferredCountries]="[CountryISO.UnitedKingdom]" [enableAutoCountrySelect]="true"
                                    [enablePlaceholder]="true" [searchCountryFlag]="true"
                                    [searchCountryField]="[SearchCountryField.Iso2, SearchCountryField.Name]"
                                    [selectedCountryISO]="CountryISO.UnitedKingdom" [phoneValidation]="true"
                                    name="phone" [maxLength]="15" formControlName="mobile">
                                </ngx-intl-tel-input>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <span class="font-bold"><b>Email</b>
                            <span class="ms-1 text-red">*</span></span>
                        <div class="col-lg-12 col-md-12 col-sm-12 fv-row mt-2 d-flex ">
                            <input formControlName="email" type="text" class="
                     form-control form-control-lg form-control-solid
                     custom-input
                     mb-3 mb-lg-0
                     bg-white
                     custom-input
                   " [ngStyle]="{
                     'border-color':
                     email.invalid && email.touched
                         ? 'red'
                         : 'rgb(209, 209, 209)'
                   }" placeholder="" pattern="^(?!\s*$).+" name="email" required />
                        </div>
                    </div>
                    <div *ngIf="email.invalid && (email.dirty || email.touched)">
                        <div *ngIf="email.errors?.['required']">
                            <span style="color:red;">email address is required.</span>
                        </div>
                    </div>

                    <div *ngIf="email.invalid && (email.dirty || email.touched)">
                        <div *ngIf="email.errors?.['pattern']">
                            <span style="color:red;">Invalid Format</span>
                        </div>
                    </div>

                    <div class="row">
                        <span class="font-bold"><b>Address </b>
                            <span class="ms-1 text-red">*</span></span>
                        <div class="col-lg-12 col-md-12 col-sm-12 fv-row mt-2 d-flex ">
                            <input formControlName="address1" type="text" class="
                     form-control form-control-lg form-control-solid
                     custom-input
                     mb-3 mb-lg-0
                     bg-white
                     custom-input
                   " [ngStyle]="{
                     'border-color':
                     address1.invalid && address1.touched
                         ? 'red'
                         : 'rgb(209, 209, 209)'
                   }" placeholder="" pattern="^(?!\s*$).+" name="address1" required />
                        </div>
                    </div>
                    <div *ngIf="address1.invalid && (address1.dirty || address1.touched)">
                        <div *ngIf="address1.errors?.['required']">
                            <span style="color:red;">Address is required.</span>
                        </div>
                    </div>

                    <div *ngIf="address1.invalid && (address1.dirty || address1.touched)">
                        <div *ngIf="address1.errors?.['pattern']">
                            <span style="color:red;">Invalid Format</span>
                        </div>
                    </div>



                    <!-- Modal footer -->
                    <div class="text-center my-4">
                        <button (click)="onsubmit()" [ngClass]="{
                'primary-button': !reactiveForm.invalid,
                'secondary-button': reactiveForm.invalid
              }" data-bs-dismiss="modal" class="btn-success">
                            <i class="fas fa-check text-white fs-5 "></i> &nbsp;Update
                        </button> &nbsp;&nbsp;
                        <button class="btn-danger btn-sm text-white me-4" (click)="onclose()" data-bs-dismiss="modal">
                            Cancel
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</form>
<form [formGroup]="reactiveMessageForm" #form="ngForm">
    <div class="modal" id="template" data-bs-backdrop="static" data-bs-keyboard="false">
        <div class="modal-dialog" style="max-width: 400px; max-height: 600px; margin-top: 100px;">
            <div class="modal-content">
                <!-- Modal Header -->
                <div class="card-header p-1 pb-2 pt-1 rounded-top btn-send"
                    style="border-bottom: 1px solid rgb(173, 173, 173);">
                    <h2 style="margin-top: 10px; color: white; font-weight: bold;">&nbsp;&nbsp;Templates</h2>
                </div>
                <!-- Modal body -->
                <div class="modal-body" style="max-height: 250px; overflow-y: auto; ">
                    <!-- contact card body -->
                    <div *ngFor="let data of whatsappMessagetemplatelist; let i=index;"
                        (click)="onTemplatesent(data.id,data.version)" data-bs-dismiss="modal">
                        <div class="d-flex flex-stack py-4 nassar">
                            <div class="d-flex align-items-center">
                                <div class="ms-5">
                                    <div class="fs-5 fw-bold text-gray-900 text-hover-primary mb-2">
                                        {{data.p_name
                                        }}</div>
                                </div>
                            </div>
                        </div>
                        <div class="separator separator-dashed d-none"></div>
                    </div>
                    <div class="text-center my-4">
                        <button title="Back" class="btn-primary btn-sm text-white me-4" (click)="onclose()"
                            data-bs-dismiss="modal">
                            <i class="fas fa-arrow-left"></i> &nbsp;&nbsp;Back
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</form>
<!-- ----------Schedule form ----------- -->
<div class="modal" id="myscheduledetails" data-bs-backdrop="static" data-bs-keyboard="false">
    <div class="modal-dialog ">
        <div class="modal-content">

            <!-- Modal Header -->
            <div class="card-header p-1 pb-2 pt-1 rounded-top"
                style="background: rgb(81,183,204);
        background: linear-gradient(90deg, rgba(81,183,204,1) 0%, rgba(173,221,211,1) 35%, rgba(209,242,255,1) 100%);color:black;font-size: 14px;height:40px;padding-top: 12px;padding-left: 8px;">
                <h2 style="margin-top:10px;color:white;font-weight: bold;">
                    <i class="fa-solid fa-calendar-days fw-bolder fs-3" style="margin-left: 10px;"></i>&nbsp;&nbsp;
                    {{leadbank_name}}
                </h2>
            </div>

            <div class="modal-body">
                <div class="log-details-tab-content">
                    <div class="col-12 col-lg-3 col-md-6 col-lg-12">
                        <span class="fw-bold ms-2" style="font-size: small;"><b>Schedule Log Details
                            </b></span><br /><br />

                        <ng-container *ngFor="let schedule of schedulesummary_list; let i = index">
                            <div style="margin-bottom: 5px; padding: 5px; overflow-y: auto; max-height: 300px;"
                                class="panel bg-white">
                                {{schedule.log_legend}}
                                <div style="margin-bottom: 3px; margin-top: 2px;">
                                    <div class="row">
                                        <div class="panel-body" style="font-size: x-small;">{{ schedule.log_details
                                            }}
                                        </div>
                                    </div>
                                </div>
                                <!-- Add a horizontal line after each schedule log -->
                                <hr style="margin-top: 5px; margin-bottom: 5px;">
                            </div>
                        </ng-container>
                    </div>
                </div>

                <div class="text-center my-4">
                    <button class="btn-primary btn-sm text-white me-2" data-bs-dismiss="modal"
                        style="background-color: red;">
                        <i class="fas fa-arrow-left text-white"></i> &nbsp;Back
                    </button>&nbsp;
                </div>
            </div>
        </div>
    </div>
</div>

<!-- ------------ -->